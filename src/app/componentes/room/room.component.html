<div class="room-container">
  <div class="online-users">
    <p>Online users:</p>
    <ul>
      <li *ngFor="let user of onlineUsers$ | async">
        {{ user.name || user.id }}
      </li>
    </ul>
  </div>
  <div class="videos-contanier">
    <div class="users-container" *ngIf="user">
      <div class="user-details">
        <video
          *ngIf="user.stream"
          [srcObject]="user.stream"
          autoplay
          controls
          muted
        ></video>
        <p>Name: {{ user.name || user.id }}</p>
      </div>

      <div *ngFor="let connection of user.connections" class="user-details">
        <ng-container>
          <video
            *ngIf="connection.stream"
            [srcObject]="connection.stream"
            autoplay
            controls
            muted
          ></video>
          <p>Name: {{ connection.userId }}</p>
          <p>Connection state: {{ connection.remote.connectionState }}</p>
        </ng-container>
      </div>
    </div>

    <div class="buttons-container">
      <div class="buttons">
        <button mat-fab color="accent" (click)="call()">
          <i class="fa fa-phone"></i>
        </button>
        <button mat-fab color="warn" (click)="hangup()">
          <i class="fa fa-phone fa-phone-hangup"></i>
        </button>
      </div>
    </div>
  </div>
</div>
