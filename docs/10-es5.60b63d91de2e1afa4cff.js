function _createForOfIteratorHelper(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=_unsupportedIterableToArray(n))){var t=0,e=function(){};return{s:e,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a,i=!0,r=!1;return{s:function(){l=n[Symbol.iterator]()},n:function(){var n=l.next();return i=n.done,n},e:function(n){r=!0,a=n},f:function(){try{i||null==l.return||l.return()}finally{if(r)throw a}}}}function _toConsumableArray(n){return _arrayWithoutHoles(n)||_iterableToArray(n)||_unsupportedIterableToArray(n)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(n,t){if(n){if("string"==typeof n)return _arrayLikeToArray(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(n,t):void 0}}function _iterableToArray(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}function _arrayWithoutHoles(n){if(Array.isArray(n))return _arrayLikeToArray(n)}function _arrayLikeToArray(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,l=new Array(t);e<t;e++)l[e]=n[e];return l}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var l=t[e];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,l.key,l)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"oF8/":function(n,t,e){"use strict";e.r(t);var l=e("8Y7J"),a=function n(){_classCallCheck(this,n)},i=e("9cE2"),r=e("007U"),c=e("pMnS"),u=e("SVse"),o=function(){function n(){_classCallCheck(this,n),this.visible=!0,this.selected=!1,this.disabled=!1,this.onlySuit=!1}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),s=l.xb({encapsulation:0,styles:[['@charset "UTF-8";.card[_ngcontent-%COMP%]{padding:4px;width:60px;height:90px;border-radius:4px;background-color:#fff;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:all .1s ease;box-shadow:0 0 10px 1px rgba(0,0,0,.5)}.card.selected[_ngcontent-%COMP%]{transform:scale(1.2)}.card.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#aaa;box-shadow:none;opacity:.8}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:4px}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #999;display:flex}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1em;font-weight:700}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit[_ngcontent-%COMP%]{font-size:1.4em;margin-left:4px}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.spade[_ngcontent-%COMP%]:after{content:"\u2660"}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.club[_ngcontent-%COMP%]:after{content:"\u2663"}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.diamond[_ngcontent-%COMP%]:after{content:"\u2666";color:red}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.heart[_ngcontent-%COMP%]:after{content:"\u2665";color:red}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#444;color:#fff;font-size:1.2em;display:flex;align-items:center;justify-content:center}']],data:{}});function b(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(n()(),l.Xb(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.card.name)}))}function d(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,3,"div",[["class","front"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,b)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.zb(3,0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null))],(function(n,t){n(t,2,0,!t.component.onlySuit)}),(function(n,t){n(t,3,0,l.Gb(1,"suit ",t.component.card.suit,""))}))}function g(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,1,"div",[["class","back"]],null,null,null,null,null)),l.Nb(null,0)],null,null)}function f(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,4,"div",[["class","card"]],[[2,"selected",null],[2,"disabled",null]],null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,d)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,g)),l.yb(4,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,2,0,e.visible&&e.card.visible),n(t,4,0,!(e.visible&&e.card.visible))}),(function(n,t){var e=t.component;n(t,0,0,e.selected||e.card.selected,e.disabled||e.card.disabled)}))}function p(n){return l.ac(0,[(n()(),l.ib(16777216,null,null,1,null,f)),l.yb(1,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,1,0,t.component.card)}),null)}var h,m,y,O,v,C,M=e("XE/z"),_=e("Tj54"),k=e("1Xc+"),P=e("Dxy4"),x=e("YEUz"),j=e("omvX"),I=function(){function n(t,e){_classCallCheck(this,n),this.gameService=t,this.playerService=e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"move",value:function(){this.gameService.move(this.player)}},{key:"beat",value:function(){this.gameService.beat(this.player)}},{key:"give",value:function(){this.gameService.give(this.player)}},{key:"selected",get:function(){return this.playerService.selectedCards(this.player)}},{key:"canMove",get:function(){return this.selected&&this.selected.length>0}},{key:"canGive",get:function(){return this.game.beatingCards.length==this.selected.length}},{key:"canBeat",get:function(){return this.gameService.canBeat(this.selected,this.game.beatingCards)}}]),n}(),w=e("mrSG"),S=e("2Vo4"),z={11:"J",12:"Q",13:"K",14:"A"},A={10:10,11:2,12:3,13:4,14:11},B={10:20,14:21},Q=function(n){return n.club="club",n.diamond="diamond",n.heart="heart",n.spade="spade",n}({}),$=function(){function n(t,e){_classCallCheck(this,n),this.index=t,this.suit=e,this.visible=!0,this.selected=!1,this.disabled=!1,this.name=z[t]||t.toString(),this.point=A[t]||0,this.beatpoint=B[t]||t}return _createClass(n,null,[{key:"compare",value:function(n,t,e){var l=n.suit.charCodeAt(0),a=t.suit.charCodeAt(0);if((l=n.suit==e?l+100:l)<(a=t.suit==e?a+100:a))return 1;if(l>a)return-1;var i=n.suit==e?n.beatpoint+100:n.beatpoint,r=t.suit==e?t.beatpoint+100:t.beatpoint;return i<r?1:i>r?-1:0}}]),n}(),T=function n(){_classCallCheck(this,n),this.pivots={0:6,20:4,40:2}},U=function n(){_classCallCheck(this,n),this.round=0,this.players=[],this.lastWinners=[],this.points={}},X=((O=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"generate",value:function(){for(var n=[],t=6;t<=14;t++)n.push(new $(t,Q.club)),n.push(new $(t,Q.diamond)),n.push(new $(t,Q.heart)),n.push(new $(t,Q.spade));return this.shuffle(n)}},{key:"shuffle",value:function(n){for(var t=_toConsumableArray(n),e=t.length-1;e>0;e--){var l=Math.floor(Math.random()*(e+1)),a=[t[l],t[e]];t[e]=a[0],t[l]=a[1]}return t}},{key:"canBeat",value:function(n,t,e){var l=this;if(!this.isBeatable(n,t))return!1;if(!this.hasCorrectSuits(n,t,e))return!1;n=_toConsumableArray(n).sort((function(n,t){return l.compareBeatpoint(n,t,e)})),t=_toConsumableArray(t).sort((function(n,t){return l.compareBeatpoint(n,t,e)}));for(var a=0;a<n.length;a++)if(this.compareBeatpoint(n[a],t[a],e)<1)return!1;return!0}},{key:"hasCorrectSuits",value:function(n,t,e){var l=function(n){return n.suit==e||n.suit==t[0].suit};return n=_toConsumableArray(n).filter((function(n){return l(n)})),t=_toConsumableArray(t).filter((function(n){return l(n)})),this.isBeatable(n,t)}},{key:"isBeatable",value:function(n,t){return n.length>0&&t.length>0&&n.length==t.length}},{key:"compareBeatpoint",value:function(n,t,e){var l=n.suit==e?n.beatpoint+100:n.beatpoint,a=t.suit==e?t.beatpoint+100:t.beatpoint;return l>a?1:l<a?-1:0}}]),n}()).\u0275prov=l.bc({factory:function(){return new O},token:O,providedIn:"root"}),O),F=((y=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"isEqual",value:function(n,t){return n.name===t.name&&n.suit===t.suit}},{key:"selected",value:function(n){return n?n.filter((function(n){return n.selected})):[]}},{key:"notSelected",value:function(n){return n?n.filter((function(n){return!n.selected})):[]}},{key:"enableAll",value:function(n){return n?n.map((function(n){return Object.assign(Object.assign({},n),{disabled:!1})})):[]}},{key:"deselectAll",value:function(n){return n?n.map((function(n){return Object.assign(Object.assign({},n),{selected:!1})})):[]}},{key:"disableNotSelectedSuits",value:function(n){var t=this.selected(n);return t&&t.length>0?this.disableOtherSuits(n,t[0].suit):this.enableAll(n)}},{key:"disableOtherSuits",value:function(n,t){return n?n.map((function(n){return Object.assign(Object.assign({},n),{disabled:n.suit!=t})})):[]}},{key:"toggleSelection",value:function(n,t){var e=this;return n?n.map((function(n){return e.isEqual(t,n)?e.toggle(t):n})):[]}},{key:"toggle",value:function(n){return Object.assign(Object.assign({},n),{selected:!n.selected})}}]),n}()).\u0275prov=l.bc({factory:function(){return new y},token:y,providedIn:"root"}),y),D=((m=function(){function n(t){_classCallCheck(this,n),this.utils=t}return _createClass(n,[{key:"canTake",value:function(n){return n.hand&&n.hand.length<4}},{key:"points",value:function(n){return n.pointCards.reduce((function(n,t){return n+t.point}),0)}},{key:"select",value:function(n,t,e){return t.disabled?(console.error("Card is disabled"),n):(n=this.toggleSelection(n,t),"move"==e&&(n=this.disableNotSelectedSuits(n)),n)}},{key:"move",value:function(n){return n=this.enableAll(n),this.removeSelected(n)}},{key:"selected",value:function(n){return Object.assign(Object.assign({},n),{hand:this.utils.selected(n.hand)})}},{key:"removeSelected",value:function(n){return Object.assign(Object.assign({},n),{hand:this.utils.notSelected(n.hand)})}},{key:"selectedCards",value:function(n){return this.utils.selected(n.hand)}},{key:"collect",value:function(n,t){return Object.assign(Object.assign({},n),{pointCards:[].concat(_toConsumableArray(n.pointCards||[]),_toConsumableArray(t))})}},{key:"take",value:function(n,t){return Object.assign(Object.assign({},n),{hand:[].concat(_toConsumableArray(n.hand||[]),_toConsumableArray(t))})}},{key:"enableAll",value:function(n){return Object.assign(Object.assign({},n),{hand:this.utils.enableAll(n.hand)})}},{key:"deselectAll",value:function(n){return Object.assign(Object.assign({},n),{hand:this.utils.deselectAll(n.hand)})}},{key:"toggleSelection",value:function(n,t){return Object.assign(Object.assign({},n),{hand:this.utils.toggleSelection(n.hand,t)})}},{key:"disableNotSelectedSuits",value:function(n){return Object.assign(Object.assign({},n),{hand:this.utils.disableNotSelectedSuits(n.hand)})}}]),n}()).\u0275prov=l.bc({factory:function(){return new m(l.cc(F))},token:m,providedIn:"root"}),m),E=((h=function(){function n(t,e){_classCallCheck(this,n),this.deckUtils=t,this.playerService=e,this.stateEmpty=function(n){return Object.assign(Object.assign({},n),{state:"empty"})},this.stateNew=function(n){return Object.assign(Object.assign({},n),{state:"new"})},this.stateMove=function(n){return Object.assign(Object.assign({},n),{state:"move"})},this.stateBeat=function(n){return Object.assign(Object.assign({},n),{state:"beat"})},this.stateTake=function(n){return Object.assign(Object.assign({},n),{state:"take"})},this.stateEnd=function(n){return Object.assign(Object.assign({},n),{state:"end"})}}return _createClass(n,[{key:"create",value:function(n){var t={state:n.state||"new",roomId:n.roomId,options:n.options,players:[],deck:[],table:[],beatingCards:[],moves:0,stats:new U};return n.isCreator&&(t.creatorId=n.playerId),t}},{key:"setCreatorId",value:function(n,t){return Object.assign(Object.assign({},n),{creatorId:t})}},{key:"hasJoined",value:function(n,t){return n.players&&null!=n.players.find((function(n){return n.id===t.id}))}},{key:"join",value:function(n,t){return this.hasJoined(n,t)?n:Object.assign(Object.assign({},n),{players:[].concat(_toConsumableArray(n.players||[]),[t])})}},{key:"start",value:function(n){var t=this.deckUtils.generate(),e=t[t.length-1],l=n.players;return n=Object.assign(Object.assign({},n),{deck:t}),n=Object.assign(Object.assign({},n),{trump:e}),n=Object.assign(Object.assign({},n),{beater:l[0]}),n=Object.assign(Object.assign({},n),{current:l[0]}),n=this.fillHands(n),this.stateMove(n)}},{key:"end",value:function(n){var t=this,e=n.stats||new U;e.points=e.points||{},e.players=e.players||[],e.round=e.round||0;var l=n.options;l.pivots=l.pivots||{};var a,i=n.players,r=l.pivots,c=Math.max.apply(Math,_toConsumableArray(i.map((function(n){return t.playerService.points(n)})))),u=i.filter((function(n){return t.playerService.points(n)==c})).map((function(n){return n.name})),o=_createForOfIteratorHelper(i);try{var s=function(){var n=a.value;Object.keys(r).forEach((function(l){t.playerService.points(n)>+l&&(e.points[n.name]=r[l])}))};for(o.s();!(a=o.n()).done;)s()}catch(b){o.e(b)}finally{o.f()}return e.lastWinners=u,e.round++,Object.assign(Object.assign({},n),{stats:e})}},{key:"getPlayer",value:function(n,t){return n.players.find((function(n){return n.id===t.id}))}},{key:"selectCard",value:function(n,t,e){var l=this.getPlayer(n,t),a=this.playerService.select(l,e,n.state);return this.updatePlayers(n,a)}},{key:"updatePlayers",value:function(n,t){n.current.id===t.id&&(n=Object.assign(Object.assign({},n),{current:t})),n.beater.id===t.id&&(n=Object.assign(Object.assign({},n),{beater:t}));var e=n.players.map((function(n){return n.id===t.id?t:n}));return Object.assign(Object.assign({},n),{players:e})}},{key:"move",value:function(n,t){var e=this.playerService.selectedCards(t),l=this.playerService.move(t);return n=this.updatePlayers(n,l),n=Object.assign(Object.assign({},n),{beatingCards:e}),n=Object.assign(Object.assign({},n),{beater:t}),n=this.putOnTable(n,e),n=this.nextPlayer(n),this.stateBeat(n)}},{key:"beat",value:function(n,t){var e=n.beatingCards,l=this.playerService.selectedCards(t),a=this.playerService.move(t);return n=this.updatePlayers(n,a),this.canBeat(n,l,e)&&(n=Object.assign(Object.assign({},n),{beatingCards:l}),n=Object.assign(Object.assign({},n),{beater:a})),n=this.putOnTable(n,l),this.nextPlayer(n)}},{key:"give",value:function(n,t){var e=this.playerService.selectedCards(t),l=this.playerService.move(t);return n=this.updatePlayers(n,l),n=this.putOnTable(n,e),this.nextPlayer(n)}},{key:"endCirlce",value:function(n){var t=n,e=t.beater,l=t.table,a=this.playerService.collect(e,l);return a=this.playerService.enableAll(a),a=this.playerService.deselectAll(a),n=this.updatePlayers(n,a),n=Object.assign(Object.assign({},n),{beater:a}),n=Object.assign(Object.assign({},n),{current:a}),n=Object.assign(Object.assign({},n),{beatingCards:[]}),n=Object.assign(Object.assign({},n),{table:[]}),n=this.stateMove(n),(n=this.fillHands(n)).deck&&n.deck.length||e.hand&&e.hand.length||(n=this.stateEnd(n),n=this.end(n)),n}},{key:"fillHands",value:function(n){var t=this;if(!n.deck)return n;if(!n.deck.length)return n;for(var e=n.deck,l=n.players,a=0;a<4;a++)l=l.map((function(n){if(n.hand||(n.hand=[]),t.playerService.canTake(n)){var l=e.splice(0,1);n=t.playerService.take(n,l)}return n}));return Object.assign(Object.assign({},n),{deck:e,players:l})}},{key:"nextPlayer",value:function(n){var t=n.players,e=n.current,l=n.moves+1;if(l===t.length)return n=Object.assign(Object.assign({},n),{moves:0}),this.endCirlce(n);var a=t.findIndex((function(n){return n.id===e.id})),i=t[(a+1)%t.length];return n=Object.assign(Object.assign({},n),{current:i}),Object.assign(Object.assign({},n),{moves:l})}},{key:"canBeat",value:function(n,t,e){return this.deckUtils.canBeat(t,e,n.trump.suit)}},{key:"putOnTable",value:function(n,t){return Object.assign(Object.assign({},n),{table:[].concat(_toConsumableArray(n.table||[]),_toConsumableArray(t))})}}]),n}()).\u0275prov=l.bc({factory:function(){return new h(l.cc(X),l.cc(D))},token:h,providedIn:"root"}),h),N=e("LRne"),J=e("JIr8"),L=e("SxV6"),H=e("Ngqg"),G=((C=function(){function n(t){_classCallCheck(this,n),this.api=t,this.changed$=new l.n,this.channelId="game_channel",this.channel=new BroadcastChannel(this.channelId),this.subscriptions=[]}return _createClass(n,[{key:"register",value:function(n,t){return Object(w.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(this.gameService=n,this.channelId=t.roomId,this.playerId=t.playerId,this.isCreator=t.isCreator,new Promise((function(n,t){l.subscriptions.push(l.api.podcast.getMessage(l.channelId).pipe(Object(J.a)((function(n){return t(n),Object(N.a)(n)}))).subscribe((function(t){l.handleMessages(t),n(t.payload)})))}))));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"unsubscribeAll",value:function(){this.subscriptions.forEach((function(n){return n.unsubscribe()})),this.subscriptions=[]}},{key:"notifyChanges",value:function(){this.notify(this.gameService.game$,"game$")}},{key:"notify",value:function(n,t){var e=this,l=this.playerId;this.isCreator||(n=n.pipe(Object(L.a)()));var a=n.subscribe((function(n){e.api.podcast.update({id:e.channelId,created:Date.now(),notifier:l,action:t,payload:n})}));this.subscriptions.push(a)}},{key:"handleMessages",value:function(n){var t=this.gameService,e=n.action,l=n.payload;if(n.notifier!==this.playerId&&e&&l){var a=t[e];a&&a.value!==l&&(a.next(l),this.changed$.emit())}}}]),n}()).\u0275prov=l.bc({factory:function(){return new C(l.cc(H.a))},token:C,providedIn:"root"}),C),R=((v=function(){function n(t,e){_classCallCheck(this,n),this.gameUtils=t,this.podcast=e,this.game$=new S.a(null)}return _createClass(n,[{key:"init",value:function(n){return Object(w.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gameInitData=n,t.next=3,this.podcast.register(this,n);case 3:return e=t.sent,t.abrupt("return",(e?(this.game=e,this.gameInitData.isCreator=e.creatorId===n.playerId):this.createEmpty(),this.gameInitData.isCreator));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"hasJoined",value:function(n){return this.gameUtils.hasJoined(this.game,n)}},{key:"canBeat",value:function(n,t){return this.gameUtils.canBeat(this.game,n,t)}},{key:"createEmpty",value:function(){this.gameInitData=Object.assign(Object.assign({},this.gameInitData),{state:"empty",isCreator:!0}),this.game=this.gameUtils.create(this.gameInitData),this.podcast.notifyChanges()}},{key:"create",value:function(){this.gameInitData=Object.assign(Object.assign({},this.gameInitData),{state:"new",isCreator:!0}),this.game=this.gameUtils.create(this.gameInitData),this.podcast.notifyChanges()}},{key:"join",value:function(n){this.game=this.gameUtils.join(this.game,n),this.podcast.notifyChanges()}},{key:"start",value:function(){this.game=this.gameUtils.start(this.game),this.podcast.notifyChanges()}},{key:"end",value:function(){this.game=this.gameUtils.end(this.game),this.podcast.notifyChanges()}},{key:"selectCard",value:function(n,t){this.game=this.gameUtils.selectCard(this.game,n,t)}},{key:"move",value:function(n){this.game=this.gameUtils.move(this.game,n),this.podcast.notifyChanges()}},{key:"beat",value:function(n){this.game=this.gameUtils.beat(this.game,n),this.podcast.notifyChanges()}},{key:"give",value:function(n){this.game=this.gameUtils.give(this.game,n),this.podcast.notifyChanges()}},{key:"endCirlce",value:function(){this.game=this.gameUtils.endCirlce(this.game),this.podcast.notifyChanges()}},{key:"fillHands",value:function(){this.game=this.gameUtils.fillHands(this.game),this.podcast.notifyChanges()}},{key:"nextPlayer",value:function(){this.game=this.gameUtils.nextPlayer(this.game),this.podcast.notifyChanges()}},{key:"putOnTable",value:function(n){this.game=this.gameUtils.putOnTable(this.game,n),this.podcast.notifyChanges()}},{key:"game",get:function(){return this.game$.value},set:function(n){this.game$.next(n)}}]),n}()).\u0275prov=l.bc({factory:function(){return new v(l.cc(E),l.cc(G))},token:v,providedIn:"root"}),v),q=l.xb({encapsulation:0,styles:[[".hand-controls[_ngcontent-%COMP%]{min-width:140px;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.hand-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]],data:{}});function W(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,5,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.move()&&l),l}),k.b,k.a)),l.yb(2,180224,null,0,P.b,[l.l,x.c,[2,j.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),l.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(4,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["send"])),(n()(),l.Xb(-1,0,[" \u0425\u043e\u0434\u0438\u0442\u044c "]))],(function(n,t){n(t,2,0,!t.component.canMove,"accent"),n(t,4,0)}),(function(n,t){n(t,1,0,l.Ob(t,2).disabled||null,"NoopAnimations"===l.Ob(t,2)._animationMode),n(t,3,0,l.Ob(t,4).inline,"primary"!==l.Ob(t,4).color&&"accent"!==l.Ob(t,4).color&&"warn"!==l.Ob(t,4).color)}))}function Y(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,12,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,5,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.beat()&&l),l}),k.b,k.a)),l.yb(2,180224,null,0,P.b,[l.l,x.c,[2,j.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),l.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(4,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["verified_user"])),(n()(),l.Xb(-1,0,[" \u041e\u0442\u0431\u0438\u0442\u044c "])),(n()(),l.zb(7,0,null,null,5,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.give()&&l),l}),k.b,k.a)),l.yb(8,180224,null,0,P.b,[l.l,x.c,[2,j.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),l.zb(9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(10,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["arrow_upward"])),(n()(),l.Xb(-1,0,[" \u041e\u0442\u0434\u0430\u0442\u044c "]))],(function(n,t){var e=t.component;n(t,2,0,!e.canBeat,"accent"),n(t,4,0),n(t,8,0,!e.canGive,"warn"),n(t,10,0)}),(function(n,t){n(t,1,0,l.Ob(t,2).disabled||null,"NoopAnimations"===l.Ob(t,2)._animationMode),n(t,3,0,l.Ob(t,4).inline,"primary"!==l.Ob(t,4).color&&"accent"!==l.Ob(t,4).color&&"warn"!==l.Ob(t,4).color),n(t,7,0,l.Ob(t,8).disabled||null,"NoopAnimations"===l.Ob(t,8)._animationMode),n(t,9,0,l.Ob(t,10).inline,"primary"!==l.Ob(t,10).color&&"accent"!==l.Ob(t,10).color&&"warn"!==l.Ob(t,10).color)}))}function K(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,W)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,Y)),l.yb(4,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(0,null,null,0))],(function(n,t){var e=t.component;n(t,2,0,"move"==e.game.state),n(t,4,0,"beat"==e.game.state)}),null)}function V(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,2,"div",[["class","hand-controls"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,K)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.game)}),null)}var Z=function(){function n(){_classCallCheck(this,n),this.cardSelect=new l.n}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"selectCard",value:function(n){this.isCurrent&&this.cardSelect.emit(n)}},{key:"sortedHand",get:function(){var n=this;return this.game&&this.game.trump&&this.player&&this.player.hand?this.player.hand.sort((function(t,e){return $.compare(t,e,n.game.trump.suit)})):[]}}]),n}(),nn=l.xb({encapsulation:0,styles:[[".hand[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;padding:20px 10px;min-height:160px;border:1px solid orange}.hand.current[_ngcontent-%COMP%]{background-color:#555;border:1px solid #9acd32}.hand[_ngcontent-%COMP%]   .beater[_ngcontent-%COMP%]{color:#9acd32}.hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-20px;z-index:1}.hand[_ngcontent-%COMP%]   .hand-deck[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center}.hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]{min-width:140px;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]],data:{}});function tn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),l.zb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(2,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["verified_user"]))],(function(n,t){n(t,2,0)}),(function(n,t){n(t,1,0,l.Ob(t,2).inline,"primary"!==l.Ob(t,2).color&&"accent"!==l.Ob(t,2).color&&"warn"!==l.Ob(t,2).color)}))}function en(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,1,"app-card",[["class","card"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.selectCard(n.context.$implicit)&&l),l}),p,s)),l.yb(2,114688,null,0,o,[],{card:[0,"card"]},null)],(function(n,t){n(t,2,0,t.context.$implicit)}),null)}function ln(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,7,"div",[["class","hand"]],[[2,"current",null]],null,null,null,null)),(n()(),l.zb(1,0,null,null,4,"div",[["class","hand-deck"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,tn)),l.yb(3,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,en)),l.yb(5,278528,null,0,u.l,[l.Q,l.M,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.zb(6,0,null,null,1,"app-controls",[["class","hand-controls"]],null,null,null,V,q)),l.yb(7,114688,null,0,I,[R,D],{game:[0,"game"],player:[1,"player"]},null)],(function(n,t){var e=t.component;n(t,3,0,e.isBeater),n(t,5,0,e.sortedHand),n(t,7,0,e.game,e.player)}),(function(n,t){n(t,0,0,t.component.isCurrent)}))}function an(n){return l.ac(2,[(n()(),l.ib(16777216,null,null,1,null,ln)),l.yb(1,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,1,0,t.component.player)}),null)}var rn=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),cn=l.xb({encapsulation:0,styles:[[".deck[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;position:relative;min-width:120px}.deck[_ngcontent-%COMP%]   .cards-count[_ngcontent-%COMP%]{font-size:1.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:10px;z-index:11;cursor:pointer}.deck[_ngcontent-%COMP%]   .trump[_ngcontent-%COMP%]{left:40px;position:absolute;transform:rotate(90deg)}"]],data:{}});function un(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,3,"app-card",[["class","card"]],null,null,null,p,s)),l.yb(2,114688,null,0,o,[],{card:[0,"card"],visible:[1,"visible"]},null),(n()(),l.zb(3,0,null,0,1,"div",[["class","cards-count"]],null,null,null,null,null)),(n()(),l.Xb(4,null,["",""])),(n()(),l.zb(5,0,null,null,1,"app-card",[["class","trump"]],null,null,null,p,s)),l.yb(6,114688,null,0,o,[],{card:[0,"card"],onlySuit:[1,"onlySuit"]},null)],(function(n,t){var e=t.component;n(t,2,0,e.trump,!1),n(t,6,0,e.trump,!e.deck.length)}),(function(n,t){n(t,4,0,t.component.deck.length)}))}function on(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,2,"div",[["class","deck"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,un)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,2,0,e.deck&&e.trump)}),null)}var sn=e("lJxs"),bn=e("DnKK"),dn=function(){function n(t,e,l){_classCallCheck(this,n),this.auth=t,this.gameService=e,this.activeRoute=l,this.stats=new U,this.isCreator=!1,this.game$=this.gameService.game$}return _createClass(n,[{key:"ngOnDestroy",value:function(){}},{key:"ngOnInit",value:function(){var n=this;this.activeRoute.data.pipe(Object(bn.a)(this)).subscribe((function(t){t.roomId&&(n.roomId=t.roomId,n.init(n.auth.current.id,n.auth.current.name))}))}},{key:"init",value:function(n,t){return Object(w.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new T,this.player={id:n,name:t,hand:[],pointCards:[]},e.next=4,this.gameService.init({options:l,roomId:this.roomId,playerId:this.player.id,isCreator:!1});case 4:this.isCreator=e.sent,this.player$=this.gameService.game$.pipe(Object(bn.a)(this),Object(sn.a)((function(t){return t.players&&t.players.find((function(t){return t.id==n}))}))),this.isCurrent$=this.gameService.game$.pipe(Object(bn.a)(this),Object(sn.a)((function(t){return t.current&&t.current.id===n}))),this.isBeater$=this.gameService.game$.pipe(Object(bn.a)(this),Object(sn.a)((function(t){return t.beater&&t.beater.id===n})));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"canStart",value:function(n){return n&&n.players&&n.players.length>=2}},{key:"join",value:function(){this.gameService.join(this.player)}},{key:"create",value:function(){this.gameService.create(),this.gameService.join(this.player)}},{key:"start",value:function(){this.gameService.start()}},{key:"canBeat",value:function(n,t){return this.gameService.canBeat(n,t)}},{key:"selectCard",value:function(n){this.gameService.selectCard(this.player,n)}},{key:"hasJoined",get:function(){return this.gameService.hasJoined(this.player)}}]),n}(),gn=e("lGQG"),fn=e("iInd"),pn=l.xb({encapsulation:0,styles:[[".play-container[_ngcontent-%COMP%]{min-width:100%;min-height:100%;background-color:#333;color:#fff}.play-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;max-width:100%;min-height:160px}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{padding:10px;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center;justify-content:center}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-20px;z-index:2}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active, .play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover, .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active, .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover, .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active, .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{z-index:100}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:hover:active), .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:hover:active), .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:hover:active){z-index:0}.play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{flex-grow:10;flex-wrap:nowrap;justify-content:flex-start;overflow:hidden}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]{justify-content:flex-start;position:relative;min-width:120px}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .cards-count[_ngcontent-%COMP%]{font-size:1.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:10px;cursor:pointer;z-index:11}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .trump[_ngcontent-%COMP%]{position:absolute;left:40px;transform:rotate(90deg)}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{padding:20px 10px;min-height:160px;border:1px solid orange}.play-container[_ngcontent-%COMP%]   .hand.current[_ngcontent-%COMP%]{background-color:#555;border:1px solid #9acd32}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .beater[_ngcontent-%COMP%]{color:#9acd32}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .hand-deck[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]{min-width:140px;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.play-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;justify-content:center;padding:20px 10px;min-height:160px}.play-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px;margin-bottom:4px}.play-container[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center}.play-container[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .moving-player[_ngcontent-%COMP%]{color:#adff2f}.play-container[_ngcontent-%COMP%]   .points-info[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .points-info[_ngcontent-%COMP%]   .points-data[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-around}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]{flex-grow:1;height:42px;min-width:100%;padding:10px 20px;display:flex;align-items:center;justify-content:space-evenly;border-top:1px solid hsla(0,0%,100%,.2)}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]:last-child{border-bottom:1px solid hsla(0,0%,100%,.2)}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info.current[_ngcontent-%COMP%]{color:#9acd32}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__hand[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__name[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__points[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;flex-grow:1;flex-basis:0}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__name[_ngcontent-%COMP%]{flex-grow:4;justify-content:flex-start}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{min-width:24px;margin-right:4px}"]],data:{}});function hn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,1,"app-card",[["class","card"]],null,null,null,p,s)),l.yb(1,114688,null,0,o,[],{card:[0,"card"]},null)],(function(n,t){n(t,1,0,t.context.$implicit)}),null)}function mn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,hn)),l.yb(2,278528,null,0,u.l,[l.Q,l.M,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.ib(0,null,null,0))],(function(n,t){n(t,2,0,t.parent.context.ngIf.beatingCards)}),null)}function yn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,3,"app-card",[["class","card"]],null,null,null,p,s)),l.yb(2,114688,null,0,o,[],{card:[0,"card"],visible:[1,"visible"]},null),(n()(),l.zb(3,0,null,0,1,"div",[["class","cards-count"]],null,null,null,null,null)),(n()(),l.Xb(4,null,["",""]))],(function(n,t){n(t,2,0,t.parent.context.ngIf.table[0],!1)}),(function(n,t){n(t,4,0,t.parent.context.ngIf.table.length)}))}function On(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(2,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["verified_user"]))],(function(n,t){n(t,2,0)}),(function(n,t){n(t,1,0,l.Ob(t,2).inline,"primary"!==l.Ob(t,2).color&&"accent"!==l.Ob(t,2).color&&"warn"!==l.Ob(t,2).color)}))}function vn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,18,"div",[["class","player-info"]],[[2,"current",null]],null,null,null,null)),(n()(),l.zb(1,0,null,null,5,"div",[["class","player-info__name"]],null,null,null,null,null)),(n()(),l.zb(2,0,null,null,2,"div",[["class","badge"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,On)),l.yb(4,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.zb(5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Xb(6,null,["",""])),(n()(),l.zb(7,0,null,null,5,"div",[["class","player-info__hand"]],null,null,null,null,null)),(n()(),l.zb(8,0,null,null,2,"mat-icon",[["class","badge mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(9,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["crop_portrait"])),(n()(),l.zb(11,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Xb(12,null,["",""])),(n()(),l.zb(13,0,null,null,5,"div",[["class","player-info__points"]],null,null,null,null,null)),(n()(),l.zb(14,0,null,null,2,"mat-icon",[["class","badge mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,M.b,M.a)),l.yb(15,9158656,null,0,_.b,[l.l,_.d,[8,null],[2,_.a],[2,l.m]],null,null),(n()(),l.Xb(-1,0,["local_atm"])),(n()(),l.zb(17,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l.Xb(18,null,["",""]))],(function(n,t){n(t,4,0,t.parent.context.ngIf.beater&&t.parent.context.ngIf.beater.id===t.context.$implicit.id),n(t,9,0),n(t,15,0)}),(function(n,t){n(t,0,0,t.parent.context.ngIf.current&&t.parent.context.ngIf.current.id===t.context.$implicit.id),n(t,6,0,t.context.$implicit.name),n(t,8,0,l.Ob(t,9).inline,"primary"!==l.Ob(t,9).color&&"accent"!==l.Ob(t,9).color&&"warn"!==l.Ob(t,9).color),n(t,12,0,(null==t.context.$implicit.hand?null:t.context.$implicit.hand.length)||0),n(t,14,0,l.Ob(t,15).inline,"primary"!==l.Ob(t,15).color&&"accent"!==l.Ob(t,15).color&&"warn"!==l.Ob(t,15).color),n(t,18,0,(null==t.context.$implicit.pointCards?null:t.context.$implicit.pointCards.length)||0)}))}function Cn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,3,"div",[["class","game-controls"]],null,null,null,null,null)),(n()(),l.zb(1,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.create()&&l),l}),k.b,k.a)),l.yb(2,180224,null,0,P.b,[l.l,x.c,[2,j.a]],null,null),(n()(),l.Xb(-1,0,[" \u0421\u043e\u0437\u0434\u0430\u0442\u044c "]))],null,(function(n,t){n(t,1,0,l.Ob(t,2).disabled||null,"NoopAnimations"===l.Ob(t,2)._animationMode)}))}function Mn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),l.Xb(-1,null,["\u0416\u0434\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432..."]))],null,null)}function _n(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.start()&&l),l}),k.b,k.a)),l.yb(2,180224,null,0,P.b,[l.l,x.c,[2,j.a]],{disabled:[0,"disabled"]},null),(n()(),l.Xb(-1,0,[" \u041d\u0430\u0447\u0430\u0442\u044c "])),(n()(),l.ib(16777216,null,null,1,null,Mn)),l.yb(5,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(0,null,null,0))],(function(n,t){var e=t.component;n(t,2,0,!e.canStart(t.parent.parent.context.ngIf)),n(t,5,0,!e.canStart(t.parent.parent.context.ngIf))}),(function(n,t){n(t,1,0,l.Ob(t,2).disabled||null,"NoopAnimations"===l.Ob(t,2)._animationMode)}))}function kn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.join()&&l),l}),k.b,k.a)),l.yb(1,180224,null,0,P.b,[l.l,x.c,[2,j.a]],null,null),(n()(),l.Xb(-1,0,[" \u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f "]))],null,(function(n,t){n(t,0,0,l.Ob(t,1).disabled||null,"NoopAnimations"===l.Ob(t,1)._animationMode)}))}function Pn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,4,"div",[["class","game-controls"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,_n)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,kn)),l.yb(4,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,2,0,e.isCreator),n(t,4,0,!e.hasJoined)}),null)}function xn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),l.zb(1,0,null,null,3,"app-hand",[],null,[[null,"cardSelect"]],(function(n,t,e){var l=!0;return"cardSelect"===t&&(l=!1!==n.component.selectCard(e)&&l),l}),an,nn)),l.yb(2,114688,null,0,Z,[],{game:[0,"game"],player:[1,"player"],isBeater:[2,"isBeater"],isCurrent:[3,"isCurrent"]},{cardSelect:"cardSelect"}),l.Pb(131072,u.b,[l.h]),l.Pb(131072,u.b,[l.h])],(function(n,t){var e=t.component;n(t,2,0,t.parent.parent.context.ngIf,t.context.ngIf,l.Yb(t,2,2,l.Ob(t,3).transform(e.isBeater$)),l.Yb(t,2,3,l.Ob(t,4).transform(e.isCurrent$)))}),null)}function jn(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),l.ib(16777216,null,null,2,null,xn)),l.yb(2,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),l.Pb(131072,u.b,[l.h]),(n()(),l.ib(0,null,null,0))],(function(n,t){var e=t.component;n(t,2,0,l.Yb(t,2,0,l.Ob(t,3).transform(e.player$)))}),null)}function In(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,19,"div",[["class","play-container"]],null,null,null,null,null)),(n()(),l.zb(1,0,null,null,8,"div",[["class","table-wrapper"]],null,null,null,null,null)),(n()(),l.zb(2,0,null,null,1,"app-deck",[["class","deck"]],null,null,null,on,cn)),l.yb(3,114688,null,0,rn,[],{deck:[0,"deck"],trump:[1,"trump"]},null),(n()(),l.zb(4,0,null,null,2,"div",[["class","table"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,mn)),l.yb(6,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.zb(7,0,null,null,2,"div",[["class","table table-all"]],null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,yn)),l.yb(9,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.zb(10,0,null,null,3,"div",[["class","players-info"]],null,null,null,null,null)),(n()(),l.zb(11,0,null,null,2,null,null,null,null,null,null,null)),(n()(),l.ib(16777216,null,null,1,null,vn)),l.yb(13,278528,null,0,u.l,[l.Q,l.M,l.s],{ngForOf:[0,"ngForOf"]},null),(n()(),l.ib(16777216,null,null,1,null,Cn)),l.yb(15,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,Pn)),l.yb(17,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),(n()(),l.ib(16777216,null,null,1,null,jn)),l.yb(19,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,t.context.ngIf.deck,t.context.ngIf.trump),n(t,6,0,t.context.ngIf.beatingCards),n(t,9,0,t.context.ngIf.table),n(t,13,0,t.context.ngIf.players),n(t,15,0,"empty"===t.context.ngIf.state),n(t,17,0,"new"===t.context.ngIf.state),n(t,19,0,"new"!==t.context.ngIf.state)}),null)}function wn(n){return l.ac(0,[(n()(),l.ib(16777216,null,null,2,null,In)),l.yb(1,16384,null,0,u.m,[l.Q,l.M],{ngIf:[0,"ngIf"]},null),l.Pb(131072,u.b,[l.h])],(function(n,t){var e=t.component;n(t,1,0,l.Yb(t,1,0,l.Ob(t,2).transform(e.game$)))}),null)}var Sn=l.vb("app-play-cards",dn,(function(n){return l.ac(0,[(n()(),l.zb(0,0,null,null,1,"app-play-cards",[],null,null,null,wn,pn)),l.yb(1,245760,null,0,dn,[gn.a,R,fn.a],null,null)],(function(n,t){n(t,1,0)}),null)}),{},{},[]),zn=e("s7LF"),An=e("9b/N"),Bn=e("UhP/"),Qn=e("1O3W"),$n=e("9gLZ"),Tn=e("iELJ"),Un=e("rJgo"),Xn=e("wD+u"),Fn=e("jmUF"),Dn=e("VRCc"),En=e("fMxG"),Nn=e("TfjI"),Jn=e("SCoL"),Ln=e("8Qe2"),Hn=e("PDjf"),Gn=e("f44v"),Rn=e("1z/I"),qn=e("7KAL"),Wn=e("BSbQ"),Yn=e("GF+f"),Kn=e("o4Yh"),Vn=e("Q2Ze"),Zn=e("8sFK"),nt=e("e6WT"),tt=e("SqCe"),et=e("BTe0"),lt=e("pu8Q"),at=e("q7Ft"),it=e("mPVK"),rt=e("jMqV"),ct=e("zHaW"),ut=e("l0rg"),ot=e("Yobz"),st=e("ab3D"),bt=e("PCNd"),dt=e("dWXV"),gt=function n(){_classCallCheck(this,n)},ft=e("Ht+U");e.d(t,"BuraModuleNgFactory",(function(){return pt}));var pt=l.wb(a,[],(function(n){return l.Lb([l.Mb(512,l.j,l.ab,[[8,[i.a,r.a,r.b,c.a,Sn]],[3,l.j],l.x]),l.Mb(4608,u.o,u.n,[l.u]),l.Mb(4608,zn.u,zn.u,[]),l.Mb(4608,zn.e,zn.e,[]),l.Mb(4608,An.c,An.c,[]),l.Mb(4608,Bn.b,Bn.b,[]),l.Mb(4608,Qn.a,Qn.a,[Qn.g,Qn.c,l.j,Qn.f,Qn.d,l.r,l.z,u.d,$n.b,[2,u.i]]),l.Mb(5120,Qn.h,Qn.i,[Qn.a]),l.Mb(5120,Tn.c,Tn.d,[Qn.a]),l.Mb(135680,Tn.e,Tn.e,[Qn.a,l.r,[2,u.i],[2,Tn.b],Tn.c,[3,Tn.e],Qn.c]),l.Mb(5120,Un.c,Un.j,[Qn.a]),l.Mb(4608,Xn.a,Xn.a,[Fn.c,[2,Fn.b],[2,Xn.c],[2,Xn.e],l.B,l.z,[2,Xn.d]]),l.Mb(4608,Dn.a,Dn.a,[Fn.c,[2,Fn.b],l.B,l.z]),l.Mb(4608,En.a,En.a,[Fn.c,[2,Fn.b],[2,En.c],l.B,l.z]),l.Mb(4608,Nn.a,Nn.a,[Fn.c,[2,Fn.b],l.B,l.z]),l.Mb(5120,Fn.d,Fn.f,[Fn.c,l.z,[2,Fn.b]]),l.Mb(1073742336,u.c,u.c,[]),l.Mb(1073742336,zn.t,zn.t,[]),l.Mb(1073742336,zn.i,zn.i,[]),l.Mb(1073742336,zn.q,zn.q,[]),l.Mb(1073742336,Jn.b,Jn.b,[]),l.Mb(1073742336,An.d,An.d,[]),l.Mb(1073742336,x.a,x.a,[x.e]),l.Mb(1073742336,$n.a,$n.a,[]),l.Mb(1073742336,Bn.j,Bn.j,[x.e,[2,Bn.c],[2,u.d]]),l.Mb(1073742336,Ln.a,Ln.a,[]),l.Mb(1073742336,Bn.s,Bn.s,[]),l.Mb(1073742336,P.c,P.c,[]),l.Mb(1073742336,Hn.f,Hn.f,[]),l.Mb(1073742336,Gn.d,Gn.d,[]),l.Mb(1073742336,Rn.f,Rn.f,[]),l.Mb(1073742336,qn.c,qn.c,[]),l.Mb(1073742336,Qn.e,Qn.e,[]),l.Mb(1073742336,Tn.k,Tn.k,[]),l.Mb(1073742336,Wn.b,Wn.b,[]),l.Mb(1073742336,Yn.c,Yn.c,[]),l.Mb(1073742336,Kn.c,Kn.c,[]),l.Mb(1073742336,Vn.f,Vn.f,[]),l.Mb(1073742336,_.c,_.c,[]),l.Mb(1073742336,Zn.c,Zn.c,[]),l.Mb(1073742336,nt.b,nt.b,[]),l.Mb(1073742336,Bn.k,Bn.k,[]),l.Mb(1073742336,Bn.q,Bn.q,[]),l.Mb(1073742336,tt.c,tt.c,[]),l.Mb(1073742336,Un.i,Un.i,[]),l.Mb(1073742336,Un.f,Un.f,[]),l.Mb(1073742336,et.c,et.c,[]),l.Mb(1073742336,lt.a,lt.a,[]),l.Mb(1073742336,at.h,at.h,[]),l.Mb(1073742336,it.a,it.a,[]),l.Mb(1073742336,rt.d,rt.d,[]),l.Mb(1073742336,rt.c,rt.c,[]),l.Mb(1073742336,ct.e,ct.e,[]),l.Mb(1073742336,ut.b,ut.b,[]),l.Mb(1073742336,ot.a,ot.a,[]),l.Mb(1073742336,Xn.b,Xn.b,[]),l.Mb(1073742336,Dn.b,Dn.b,[]),l.Mb(1073742336,En.b,En.b,[]),l.Mb(1073742336,Nn.b,Nn.b,[]),l.Mb(1073742336,Fn.a,Fn.a,[l.B]),l.Mb(1073742336,st.a,st.a,[]),l.Mb(1073742336,bt.a,bt.a,[]),l.Mb(1073742336,fn.t,fn.t,[[2,fn.z],[2,fn.p]]),l.Mb(1073742336,gt,gt,[]),l.Mb(1073742336,a,a,[]),l.Mb(256,Gn.a,{separatorKeyCodes:[ft.f]},[]),l.Mb(256,Fn.c,{apiKey:"AIzaSyB8OELF8OtaSi-hF8rJm3lzgBn5GOI6Yeo",authDomain:"uno-server-3000.firebaseapp.com",databaseURL:"https://uno-server-3000.firebaseio.com",projectId:"uno-server-3000",storageBucket:"uno-server-3000.appspot.com",messagingSenderId:"460750590702",appId:"1:460750590702:web:e38380af9f7ff3e2a699ff",measurementId:"G-1D1LTS2GWF"},[]),l.Mb(256,Fn.b,void 0,[]),l.Mb(1024,fn.m,(function(){return[[{path:"",component:dn,resolve:{roomId:dt.a}}]]}),[])])}))}}]);