(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"oF8/":function(n,t,l){"use strict";l.r(t);var e=l("8Y7J");class a{}var i=l("9cE2"),c=l("007U"),s=l("pMnS"),o=l("SVse");class r{constructor(){this.visible=!0,this.selected=!1,this.disabled=!1,this.onlySuit=!1}ngOnInit(){}}var u=e.xb({encapsulation:0,styles:[['@charset "UTF-8";.card[_ngcontent-%COMP%]{padding:4px;width:60px;height:90px;border-radius:4px;background-color:#fff;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;transition:all .1s ease;box-shadow:0 0 10px 1px rgba(0,0,0,.5)}.card.selected[_ngcontent-%COMP%]{transform:scale(1.2)}.card.disabled[_ngcontent-%COMP%]{cursor:not-allowed;background-color:#aaa;box-shadow:none;opacity:.8}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:4px}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #999;display:flex}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1em;font-weight:700}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit[_ngcontent-%COMP%]{font-size:1.4em;margin-left:4px}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.spade[_ngcontent-%COMP%]:after{content:"\u2660"}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.club[_ngcontent-%COMP%]:after{content:"\u2663"}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.diamond[_ngcontent-%COMP%]:after{content:"\u2666";color:red}.card[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]   .suit.heart[_ngcontent-%COMP%]:after{content:"\u2665";color:red}.card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#444;color:#fff;font-size:1.2em;display:flex;align-items:center;justify-content:center}']],data:{}});function b(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"div",[["class","name"]],null,null,null,null,null)),(n()(),e.Xb(1,null,["",""]))],null,(function(n,t){n(t,1,0,t.component.card.name)}))}function d(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","front"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,b)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(3,0,null,null,0,"div",[],[[8,"className",0]],null,null,null,null))],(function(n,t){n(t,2,0,!t.component.onlySuit)}),(function(n,t){n(t,3,0,e.Gb(1,"suit ",t.component.card.suit,""))}))}function g(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"div",[["class","back"]],null,null,null,null,null)),e.Nb(null,0)],null,null)}function p(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","card"]],[[2,"selected",null],[2,"disabled",null]],null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,d)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,g)),e.yb(4,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.visible&&l.card.visible),n(t,4,0,!(l.visible&&l.card.visible))}),(function(n,t){var l=t.component;n(t,0,0,l.selected||l.card.selected,l.disabled||l.card.disabled)}))}function h(n){return e.ac(0,[(n()(),e.ib(16777216,null,null,1,null,p)),e.yb(1,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,1,0,t.component.card)}),null)}var m=l("XE/z"),f=l("Tj54"),O=l("1Xc+"),y=l("Dxy4"),M=l("YEUz"),C=l("omvX");class _{constructor(n,t){this.gameService=n,this.playerService=t}ngOnInit(){}move(){this.gameService.move(this.player)}beat(){this.gameService.beat(this.player)}give(){this.gameService.give(this.player)}get selected(){return this.playerService.selectedCards(this.player)}get canMove(){return this.selected&&this.selected.length>0}get canGive(){return this.game.beatingCards.length==this.selected.length}get canBeat(){return this.gameService.canBeat(this.selected,this.game.beatingCards)}}var v=l("mrSG"),P=l("2Vo4");const x={11:"J",12:"Q",13:"K",14:"A"},j={10:10,11:2,12:3,13:4,14:11},I={10:20,14:21};var w=function(n){return n.club="club",n.diamond="diamond",n.heart="heart",n.spade="spade",n}({});class z{constructor(n,t){this.index=n,this.suit=t,this.visible=!0,this.selected=!1,this.disabled=!1,this.name=x[n]||n.toString(),this.point=j[n]||0,this.beatpoint=I[n]||n}static compare(n,t,l){let e=n.suit.charCodeAt(0),a=t.suit.charCodeAt(0);if(e=n.suit==l?e+100:e,a=t.suit==l?a+100:a,e<a)return 1;if(e>a)return-1;const i=n.suit==l?n.beatpoint+100:n.beatpoint,c=t.suit==l?t.beatpoint+100:t.beatpoint;return i<c?1:i>c?-1:0}}class S{constructor(){this.pivots={0:6,20:4,40:2}}}class k{constructor(){this.round=0,this.players=[],this.lastWinners=[],this.points={}}}let B=(()=>{class n{constructor(){}generate(){const n=[];for(let t=6;t<=14;t++)n.push(new z(t,w.club)),n.push(new z(t,w.diamond)),n.push(new z(t,w.heart)),n.push(new z(t,w.spade));return this.shuffle(n)}shuffle(n){const t=[...n];for(let l=t.length-1;l>0;l--){const n=Math.floor(Math.random()*(l+1));[t[l],t[n]]=[t[n],t[l]]}return t}canBeat(n,t,l){if(!this.isBeatable(n,t))return!1;if(!this.hasCorrectSuits(n,t,l))return!1;n=[...n].sort((n,t)=>this.compareBeatpoint(n,t,l)),t=[...t].sort((n,t)=>this.compareBeatpoint(n,t,l));for(let e=0;e<n.length;e++)if(this.compareBeatpoint(n[e],t[e],l)<1)return!1;return!0}hasCorrectSuits(n,t,l){const e=n=>n.suit==l||n.suit==t[0].suit;return n=[...n].filter(n=>e(n)),t=[...t].filter(n=>e(n)),this.isBeatable(n,t)}isBeatable(n,t){return n.length>0&&t.length>0&&n.length==t.length}compareBeatpoint(n,t,l){const e=n.suit==l?n.beatpoint+100:n.beatpoint,a=t.suit==l?t.beatpoint+100:t.beatpoint;return e>a?1:e<a?-1:0}}return n.\u0275prov=e.bc({factory:function(){return new n},token:n,providedIn:"root"}),n})(),Q=(()=>{class n{isEqual(n,t){return n.name===t.name&&n.suit===t.suit}selected(n){return n?n.filter(n=>n.selected):[]}notSelected(n){return n?n.filter(n=>!n.selected):[]}enableAll(n){return n?n.map(n=>Object.assign(Object.assign({},n),{disabled:!1})):[]}deselectAll(n){return n?n.map(n=>Object.assign(Object.assign({},n),{selected:!1})):[]}disableNotSelectedSuits(n){const t=this.selected(n);return t&&t.length>0?this.disableOtherSuits(n,t[0].suit):this.enableAll(n)}disableOtherSuits(n,t){return n?n.map(n=>Object.assign(Object.assign({},n),{disabled:n.suit!=t})):[]}toggleSelection(n,t){return n?n.map(n=>this.isEqual(t,n)?this.toggle(t):n):[]}toggle(n){return Object.assign(Object.assign({},n),{selected:!n.selected})}}return n.\u0275prov=e.bc({factory:function(){return new n},token:n,providedIn:"root"}),n})(),$=(()=>{class n{constructor(n){this.utils=n}canTake(n){return n.hand&&n.hand.length<4}points(n){return n.pointCards.reduce((n,t)=>n+t.point,0)}select(n,t,l){return t.disabled?(console.error("Card is disabled"),n):(n=this.toggleSelection(n,t),"move"==l&&(n=this.disableNotSelectedSuits(n)),n)}move(n){return n=this.enableAll(n),this.removeSelected(n)}selected(n){return Object.assign(Object.assign({},n),{hand:this.utils.selected(n.hand)})}removeSelected(n){return Object.assign(Object.assign({},n),{hand:this.utils.notSelected(n.hand)})}selectedCards(n){return this.utils.selected(n.hand)}collect(n,t){return Object.assign(Object.assign({},n),{pointCards:[...n.pointCards||[],...t]})}take(n,t){return Object.assign(Object.assign({},n),{hand:[...n.hand||[],...t]})}enableAll(n){return Object.assign(Object.assign({},n),{hand:this.utils.enableAll(n.hand)})}deselectAll(n){return Object.assign(Object.assign({},n),{hand:this.utils.deselectAll(n.hand)})}toggleSelection(n,t){return Object.assign(Object.assign({},n),{hand:this.utils.toggleSelection(n.hand,t)})}disableNotSelectedSuits(n){return Object.assign(Object.assign({},n),{hand:this.utils.disableNotSelectedSuits(n.hand)})}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(Q))},token:n,providedIn:"root"}),n})(),U=(()=>{class n{constructor(n,t){this.deckUtils=n,this.playerService=t,this.stateEmpty=n=>Object.assign(Object.assign({},n),{state:"empty"}),this.stateNew=n=>Object.assign(Object.assign({},n),{state:"new"}),this.stateMove=n=>Object.assign(Object.assign({},n),{state:"move"}),this.stateBeat=n=>Object.assign(Object.assign({},n),{state:"beat"}),this.stateTake=n=>Object.assign(Object.assign({},n),{state:"take"}),this.stateEnd=n=>Object.assign(Object.assign({},n),{state:"end"})}create(n){let t={state:n.state||"new",roomId:n.roomId,options:n.options,players:[],deck:[],table:[],beatingCards:[],moves:0,stats:new k};return n.isCreator&&(t.creatorId=n.playerId),t}setCreatorId(n,t){return Object.assign(Object.assign({},n),{creatorId:t})}hasJoined(n,t){return n.players&&null!=n.players.find(n=>n.id===t.id)}join(n,t){return this.hasJoined(n,t)?n:Object.assign(Object.assign({},n),{players:[...n.players||[],t]})}start(n){const t=this.deckUtils.generate(),l=t[t.length-1],e=n.players;return n=Object.assign(Object.assign({},n),{deck:t}),n=Object.assign(Object.assign({},n),{trump:l}),n=Object.assign(Object.assign({},n),{beater:e[0]}),n=Object.assign(Object.assign({},n),{current:e[0]}),n=this.fillHands(n),this.stateMove(n)}end(n){const t=n.stats||new k;t.points=t.points||{},t.players=t.players||[],t.round=t.round||0;const l=n.options;l.pivots=l.pivots||{};const e=n.players,a=l.pivots,i=Math.max(...e.map(n=>this.playerService.points(n))),c=e.filter(n=>this.playerService.points(n)==i).map(n=>n.name);for(const s of e)Object.keys(a).forEach(n=>{this.playerService.points(s)>+n&&(t.points[s.name]=a[n])});return t.lastWinners=c,t.round++,Object.assign(Object.assign({},n),{stats:t})}getPlayer(n,t){return n.players.find(n=>n.id===t.id)}selectCard(n,t,l){let e=this.getPlayer(n,t),a=this.playerService.select(e,l,n.state);return this.updatePlayers(n,a)}updatePlayers(n,t){n.current.id===t.id&&(n=Object.assign(Object.assign({},n),{current:t})),n.beater.id===t.id&&(n=Object.assign(Object.assign({},n),{beater:t}));const l=n.players.map(n=>n.id===t.id?t:n);return Object.assign(Object.assign({},n),{players:l})}move(n,t){const l=this.playerService.selectedCards(t),e=this.playerService.move(t);return n=this.updatePlayers(n,e),n=Object.assign(Object.assign({},n),{beatingCards:l}),n=Object.assign(Object.assign({},n),{beater:t}),n=this.putOnTable(n,l),n=this.nextPlayer(n),this.stateBeat(n)}beat(n,t){const l=n.beatingCards,e=this.playerService.selectedCards(t),a=this.playerService.move(t);return n=this.updatePlayers(n,a),this.canBeat(n,e,l)&&(n=Object.assign(Object.assign({},n),{beatingCards:e}),n=Object.assign(Object.assign({},n),{beater:a})),n=this.putOnTable(n,e),this.nextPlayer(n)}give(n,t){const l=this.playerService.selectedCards(t),e=this.playerService.move(t);return n=this.updatePlayers(n,e),n=this.putOnTable(n,l),this.nextPlayer(n)}endCirlce(n){let{beater:t,table:l}=n,e=this.playerService.collect(t,l);return e=this.playerService.enableAll(e),e=this.playerService.deselectAll(e),n=this.updatePlayers(n,e),n=Object.assign(Object.assign({},n),{beater:e}),n=Object.assign(Object.assign({},n),{current:e}),n=Object.assign(Object.assign({},n),{beatingCards:[]}),n=Object.assign(Object.assign({},n),{table:[]}),n=this.stateMove(n),(n=this.fillHands(n)).deck&&n.deck.length||t.hand&&t.hand.length||(n=this.stateEnd(n),n=this.end(n)),n}fillHands(n){if(!n.deck)return n;if(!n.deck.length)return n;let{deck:t,players:l}=n;for(let e=0;e<4;e++)l=l.map(n=>{if(n.hand||(n.hand=[]),this.playerService.canTake(n)){const l=t.splice(0,1);n=this.playerService.take(n,l)}return n});return Object.assign(Object.assign({},n),{deck:t,players:l})}nextPlayer(n){const t=n.players,l=n.current,e=n.moves+1;if(e===t.length)return n=Object.assign(Object.assign({},n),{moves:0}),this.endCirlce(n);const a=t.findIndex(n=>n.id===l.id),i=t[(a+1)%t.length];return n=Object.assign(Object.assign({},n),{current:i}),Object.assign(Object.assign({},n),{moves:e})}canBeat(n,t,l){return this.deckUtils.canBeat(t,l,n.trump.suit)}putOnTable(n,t){return Object.assign(Object.assign({},n),{table:[...n.table||[],...t]})}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(B),e.cc($))},token:n,providedIn:"root"}),n})();var X=l("LRne"),A=l("JIr8"),D=l("SxV6"),F=l("Ngqg");let N=(()=>{class n{constructor(n){this.api=n,this.changed$=new e.n,this.channelId="game_channel",this.channel=new BroadcastChannel(this.channelId),this.subscriptions=[]}register(n,t){return Object(v.__awaiter)(this,void 0,void 0,(function*(){return this.gameService=n,this.channelId=t.roomId,this.playerId=t.playerId,this.isCreator=t.isCreator,new Promise((n,t)=>{this.subscriptions.push(this.api.podcast.getMessage(this.channelId).pipe(Object(A.a)(n=>(t(n),Object(X.a)(n)))).subscribe(t=>{this.handleMessages(t),n(t.payload)}))})}))}unsubscribeAll(){this.subscriptions.forEach(n=>n.unsubscribe()),this.subscriptions=[]}notifyChanges(){this.notify(this.gameService.game$,"game$")}notify(n,t){const l=this.playerId;this.isCreator||(n=n.pipe(Object(D.a)()));const e=n.subscribe(n=>{this.api.podcast.update({id:this.channelId,created:Date.now(),notifier:l,action:t,payload:n})});this.subscriptions.push(e)}handleMessages(n){const t=this.gameService,{action:l,payload:e,notifier:a}=n;if(a===this.playerId)return;if(!l)return;if(!e)return;const i=t[l];i&&i.value!==e&&(i.next(e),this.changed$.emit())}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(F.a))},token:n,providedIn:"root"}),n})(),J=(()=>{class n{constructor(n,t){this.gameUtils=n,this.podcast=t,this.game$=new P.a(null)}get game(){return this.game$.value}set game(n){this.game$.next(n),console.log({before:this.game,after:n})}init(n){return Object(v.__awaiter)(this,void 0,void 0,(function*(){this.gameInitData=n;const t=yield this.podcast.register(this,n);return t?(this.game=t,this.gameInitData.isCreator=t.creatorId===n.playerId):this.createEmpty(),this.gameInitData.isCreator}))}hasJoined(n){return this.gameUtils.hasJoined(this.game,n)}canBeat(n,t){return this.gameUtils.canBeat(this.game,n,t)}createEmpty(){this.gameInitData=Object.assign(Object.assign({},this.gameInitData),{state:"empty",isCreator:!0}),this.game=this.gameUtils.create(this.gameInitData),this.podcast.notifyChanges()}create(){this.gameInitData=Object.assign(Object.assign({},this.gameInitData),{state:"new",isCreator:!0}),this.game=this.gameUtils.create(this.gameInitData),this.podcast.notifyChanges()}join(n){this.game=this.gameUtils.join(this.game,n),this.podcast.notifyChanges()}start(){this.game=this.gameUtils.start(this.game),this.podcast.notifyChanges()}end(){this.game=this.gameUtils.end(this.game),this.podcast.notifyChanges()}selectCard(n,t){this.game=this.gameUtils.selectCard(this.game,n,t)}move(n){this.game=this.gameUtils.move(this.game,n),this.podcast.notifyChanges()}beat(n){this.game=this.gameUtils.beat(this.game,n),this.podcast.notifyChanges()}give(n){this.game=this.gameUtils.give(this.game,n),this.podcast.notifyChanges()}endCirlce(){this.game=this.gameUtils.endCirlce(this.game),this.podcast.notifyChanges()}fillHands(){this.game=this.gameUtils.fillHands(this.game),this.podcast.notifyChanges()}nextPlayer(){this.game=this.gameUtils.nextPlayer(this.game),this.podcast.notifyChanges()}putOnTable(n){this.game=this.gameUtils.putOnTable(this.game,n),this.podcast.notifyChanges()}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(U),e.cc(N))},token:n,providedIn:"root"}),n})();var T=e.xb({encapsulation:0,styles:[[".hand-controls[_ngcontent-%COMP%]{min-width:140px;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.hand-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]],data:{}});function E(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,5,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.move()&&e),e}),O.b,O.a)),e.yb(2,180224,null,0,y.b,[e.l,M.c,[2,C.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),e.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(4,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["send"])),(n()(),e.Xb(-1,0,[" \u0425\u043e\u0434\u0438\u0442\u044c "]))],(function(n,t){n(t,2,0,!t.component.canMove,"accent"),n(t,4,0)}),(function(n,t){n(t,1,0,e.Ob(t,2).disabled||null,"NoopAnimations"===e.Ob(t,2)._animationMode),n(t,3,0,e.Ob(t,4).inline,"primary"!==e.Ob(t,4).color&&"accent"!==e.Ob(t,4).color&&"warn"!==e.Ob(t,4).color)}))}function G(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,12,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,5,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.beat()&&e),e}),O.b,O.a)),e.yb(2,180224,null,0,y.b,[e.l,M.c,[2,C.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),e.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(4,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["verified_user"])),(n()(),e.Xb(-1,0,[" \u041e\u0442\u0431\u0438\u0442\u044c "])),(n()(),e.zb(7,0,null,null,5,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.give()&&e),e}),O.b,O.a)),e.yb(8,180224,null,0,y.b,[e.l,M.c,[2,C.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),e.zb(9,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(10,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["arrow_upward"])),(n()(),e.Xb(-1,0,[" \u041e\u0442\u0434\u0430\u0442\u044c "]))],(function(n,t){var l=t.component;n(t,2,0,!l.canBeat,"accent"),n(t,4,0),n(t,8,0,!l.canGive,"warn"),n(t,10,0)}),(function(n,t){n(t,1,0,e.Ob(t,2).disabled||null,"NoopAnimations"===e.Ob(t,2)._animationMode),n(t,3,0,e.Ob(t,4).inline,"primary"!==e.Ob(t,4).color&&"accent"!==e.Ob(t,4).color&&"warn"!==e.Ob(t,4).color),n(t,7,0,e.Ob(t,8).disabled||null,"NoopAnimations"===e.Ob(t,8)._animationMode),n(t,9,0,e.Ob(t,10).inline,"primary"!==e.Ob(t,10).color&&"accent"!==e.Ob(t,10).color&&"warn"!==e.Ob(t,10).color)}))}function q(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,E)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,G)),e.yb(4,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],(function(n,t){var l=t.component;n(t,2,0,"move"==l.game.state),n(t,4,0,"beat"==l.game.state)}),null)}function L(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"div",[["class","hand-controls"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,q)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,2,0,t.component.game)}),null)}class H{constructor(){this.cardSelect=new e.n}ngOnInit(){}selectCard(n){this.isCurrent&&this.cardSelect.emit(n)}get sortedHand(){return this.game&&this.game.trump&&this.player&&this.player.hand?this.player.hand.sort((n,t)=>z.compare(n,t,this.game.trump.suit)):[]}}var Y=e.xb({encapsulation:0,styles:[[".hand[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;padding:20px 10px;min-height:160px;border:1px solid orange}.hand.current[_ngcontent-%COMP%]{background-color:#555;border:1px solid #9acd32}.hand[_ngcontent-%COMP%]   .beater[_ngcontent-%COMP%]{color:#9acd32}.hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-20px;z-index:1}.hand[_ngcontent-%COMP%]   .hand-deck[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center}.hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]{min-width:140px;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}"]],data:{}});function K(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,"div",[],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(2,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["verified_user"]))],(function(n,t){n(t,2,0)}),(function(n,t){n(t,1,0,e.Ob(t,2).inline,"primary"!==e.Ob(t,2).color&&"accent"!==e.Ob(t,2).color&&"warn"!==e.Ob(t,2).color)}))}function V(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"app-card",[["class","card"]],null,[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.selectCard(n.context.$implicit)&&e),e}),h,u)),e.yb(2,114688,null,0,r,[],{card:[0,"card"]},null)],(function(n,t){n(t,2,0,t.context.$implicit)}),null)}function W(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,7,"div",[["class","hand"]],[[2,"current",null]],null,null,null,null)),(n()(),e.zb(1,0,null,null,4,"div",[["class","hand-deck"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,K)),e.yb(3,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,V)),e.yb(5,278528,null,0,o.l,[e.Q,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.zb(6,0,null,null,1,"app-controls",[["class","hand-controls"]],null,null,null,L,T)),e.yb(7,114688,null,0,_,[J,$],{game:[0,"game"],player:[1,"player"]},null)],(function(n,t){var l=t.component;n(t,3,0,l.isBeater),n(t,5,0,l.sortedHand),n(t,7,0,l.game,l.player)}),(function(n,t){n(t,0,0,t.component.isCurrent)}))}function R(n){return e.ac(2,[(n()(),e.ib(16777216,null,null,1,null,W)),e.yb(1,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,1,0,t.component.player)}),null)}class Z{constructor(){}ngOnInit(){}}var nn=e.xb({encapsulation:0,styles:[[".deck[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;position:relative;min-width:120px}.deck[_ngcontent-%COMP%]   .cards-count[_ngcontent-%COMP%]{font-size:1.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:10px;z-index:11;cursor:pointer}.deck[_ngcontent-%COMP%]   .trump[_ngcontent-%COMP%]{left:40px;position:absolute;transform:rotate(90deg)}"]],data:{}});function tn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"app-card",[["class","card"]],null,null,null,h,u)),e.yb(2,114688,null,0,r,[],{card:[0,"card"],visible:[1,"visible"]},null),(n()(),e.zb(3,0,null,0,1,"div",[["class","cards-count"]],null,null,null,null,null)),(n()(),e.Xb(4,null,["",""])),(n()(),e.zb(5,0,null,null,1,"app-card",[["class","trump"]],null,null,null,h,u)),e.yb(6,114688,null,0,r,[],{card:[0,"card"],onlySuit:[1,"onlySuit"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.trump,!1),n(t,6,0,l.trump,!l.deck.length)}),(function(n,t){n(t,4,0,t.component.deck.length)}))}function ln(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"div",[["class","deck"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,tn)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.deck&&l.trump)}),null)}var en=l("lJxs"),an=l("DnKK");class cn{constructor(n,t,l){this.auth=n,this.gameService=t,this.activeRoute=l,this.stats=new k,this.isCreator=!1,this.game$=this.gameService.game$}ngOnDestroy(){}ngOnInit(){this.activeRoute.data.pipe(Object(an.a)(this)).subscribe(n=>{n.roomId&&(this.roomId=n.roomId,this.init(this.auth.current.id,this.auth.current.name))})}init(n,t){return Object(v.__awaiter)(this,void 0,void 0,(function*(){const l=new S;this.player={id:n,name:t,hand:[],pointCards:[]},this.isCreator=yield this.gameService.init({options:l,roomId:this.roomId,playerId:this.player.id,isCreator:!1}),this.player$=this.gameService.game$.pipe(Object(an.a)(this),Object(en.a)(t=>t.players&&t.players.find(t=>t.id==n))),this.isCurrent$=this.gameService.game$.pipe(Object(an.a)(this),Object(en.a)(t=>t.current&&t.current.id===n)),this.isBeater$=this.gameService.game$.pipe(Object(an.a)(this),Object(en.a)(t=>t.beater&&t.beater.id===n))}))}canStart(n){return n&&n.players&&n.players.length>=2}get hasJoined(){return this.gameService.hasJoined(this.player)}join(){this.gameService.join(this.player)}create(){this.gameService.create(),this.gameService.join(this.player)}start(){this.gameService.start()}canBeat(n,t){return this.gameService.canBeat(n,t)}selectCard(n){this.gameService.selectCard(this.player,n)}}var sn=l("lGQG"),on=l("iInd"),rn=e.xb({encapsulation:0,styles:[[".play-container[_ngcontent-%COMP%]{min-width:100%;min-height:100%;background-color:#333;color:#fff}.play-container[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;max-width:100%;min-height:160px}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{padding:10px;flex-grow:1;display:flex;flex-wrap:wrap;align-items:center;justify-content:center}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-right:-20px;z-index:2}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active, .play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover, .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active, .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover, .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active, .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{z-index:100}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:hover:active), .play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:hover:active), .play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:hover:active){z-index:0}.play-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{flex-grow:10;flex-wrap:nowrap;justify-content:flex-start;overflow:hidden}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]{justify-content:flex-start;position:relative;min-width:120px}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .cards-count[_ngcontent-%COMP%]{font-size:1.6em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:10px;cursor:pointer;z-index:11}.play-container[_ngcontent-%COMP%]   .deck[_ngcontent-%COMP%]   .trump[_ngcontent-%COMP%]{position:absolute;left:40px;transform:rotate(90deg)}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{padding:20px 10px;min-height:160px;border:1px solid orange}.play-container[_ngcontent-%COMP%]   .hand.current[_ngcontent-%COMP%]{background-color:#555;border:1px solid #9acd32}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .beater[_ngcontent-%COMP%]{color:#9acd32}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .hand-deck[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]{min-width:140px;display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-items:center}.play-container[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]   .hand-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.play-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;justify-content:center;padding:20px 10px;min-height:160px;border:1px solid orange}.play-container[_ngcontent-%COMP%]   .game-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px;margin-bottom:4px}.play-container[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center}.play-container[_ngcontent-%COMP%]   .game-info[_ngcontent-%COMP%]   .moving-player[_ngcontent-%COMP%]{color:#adff2f}.play-container[_ngcontent-%COMP%]   .points-info[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .points-info[_ngcontent-%COMP%]   .points-data[_ngcontent-%COMP%]{padding:10px;display:flex;align-items:center}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-around}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]{flex-grow:1;height:42px;min-width:100%;padding:10px 20px;display:flex;align-items:center;justify-content:space-evenly;border-top:1px solid hsla(0,0%,100%,.2)}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info.current[_ngcontent-%COMP%]{color:#9acd32}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__hand[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__name[_ngcontent-%COMP%], .play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__points[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;flex-grow:1;flex-basis:0}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info__name[_ngcontent-%COMP%]{justify-content:flex-start}.play-container[_ngcontent-%COMP%]   .players-info[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{min-width:24px;margin-right:4px}"]],data:{}});function un(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"app-card",[["class","card"]],null,null,null,h,u)),e.yb(1,114688,null,0,r,[],{card:[0,"card"]},null)],(function(n,t){n(t,1,0,t.context.$implicit)}),null)}function bn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,un)),e.yb(2,278528,null,0,o.l,[e.Q,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(0,null,null,0))],(function(n,t){n(t,2,0,t.parent.context.ngIf.beatingCards)}),null)}function dn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"app-card",[["class","card"]],null,null,null,h,u)),e.yb(2,114688,null,0,r,[],{card:[0,"card"],visible:[1,"visible"]},null),(n()(),e.zb(3,0,null,0,1,"div",[["class","cards-count"]],null,null,null,null,null)),(n()(),e.Xb(4,null,["",""]))],(function(n,t){n(t,2,0,t.parent.context.ngIf.table[0],!1)}),(function(n,t){n(t,4,0,t.parent.context.ngIf.table.length)}))}function gn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(2,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["verified_user"]))],(function(n,t){n(t,2,0)}),(function(n,t){n(t,1,0,e.Ob(t,2).inline,"primary"!==e.Ob(t,2).color&&"accent"!==e.Ob(t,2).color&&"warn"!==e.Ob(t,2).color)}))}function pn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,18,"div",[["class","player-info"]],[[2,"current",null]],null,null,null,null)),(n()(),e.zb(1,0,null,null,5,"div",[["class","player-info__name"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,"div",[["class","badge"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,gn)),e.yb(4,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(5,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Xb(6,null,["",""])),(n()(),e.zb(7,0,null,null,5,"div",[["class","player-info__hand"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,2,"mat-icon",[["class","badge mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(9,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["crop_portrait"])),(n()(),e.zb(11,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Xb(12,null,["",""])),(n()(),e.zb(13,0,null,null,5,"div",[["class","player-info__points"]],null,null,null,null,null)),(n()(),e.zb(14,0,null,null,2,"mat-icon",[["class","badge mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,m.b,m.a)),e.yb(15,9158656,null,0,f.b,[e.l,f.d,[8,null],[2,f.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["local_atm"])),(n()(),e.zb(17,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Xb(18,null,["",""]))],(function(n,t){n(t,4,0,t.parent.context.ngIf.beater&&t.parent.context.ngIf.beater.id===t.context.$implicit.id),n(t,9,0),n(t,15,0)}),(function(n,t){n(t,0,0,t.parent.context.ngIf.current&&t.parent.context.ngIf.current.id===t.context.$implicit.id),n(t,6,0,t.context.$implicit.name),n(t,8,0,e.Ob(t,9).inline,"primary"!==e.Ob(t,9).color&&"accent"!==e.Ob(t,9).color&&"warn"!==e.Ob(t,9).color),n(t,12,0,(null==t.context.$implicit.hand?null:t.context.$implicit.hand.length)||0),n(t,14,0,e.Ob(t,15).inline,"primary"!==e.Ob(t,15).color&&"accent"!==e.Ob(t,15).color&&"warn"!==e.Ob(t,15).color),n(t,18,0,(null==t.context.$implicit.pointCards?null:t.context.$implicit.pointCards.length)||0)}))}function hn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","game-controls"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.create()&&e),e}),O.b,O.a)),e.yb(2,180224,null,0,y.b,[e.l,M.c,[2,C.a]],null,null),(n()(),e.Xb(-1,0,[" \u0421\u043e\u0437\u0434\u0430\u0442\u044c "]))],null,(function(n,t){n(t,1,0,e.Ob(t,2).disabled||null,"NoopAnimations"===e.Ob(t,2)._animationMode)}))}function mn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Xb(-1,null,["\u0416\u0434\u0435\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u0432..."]))],null,null)}function fn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.start()&&e),e}),O.b,O.a)),e.yb(2,180224,null,0,y.b,[e.l,M.c,[2,C.a]],{disabled:[0,"disabled"]},null),(n()(),e.Xb(-1,0,[" \u041d\u0430\u0447\u0430\u0442\u044c "])),(n()(),e.ib(16777216,null,null,1,null,mn)),e.yb(5,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],(function(n,t){var l=t.component;n(t,2,0,!l.canStart(t.parent.parent.context.ngIf)),n(t,5,0,!l.canStart(t.parent.parent.context.ngIf))}),(function(n,t){n(t,1,0,e.Ob(t,2).disabled||null,"NoopAnimations"===e.Ob(t,2)._animationMode)}))}function On(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"button",[["class","mat-focus-indicator"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.join()&&e),e}),O.b,O.a)),e.yb(1,180224,null,0,y.b,[e.l,M.c,[2,C.a]],null,null),(n()(),e.Xb(-1,0,[" \u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f "]))],null,(function(n,t){n(t,0,0,e.Ob(t,1).disabled||null,"NoopAnimations"===e.Ob(t,1)._animationMode)}))}function yn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","game-controls"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,fn)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,On)),e.yb(4,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,2,0,l.isCreator),n(t,4,0,!l.hasJoined)}),null)}function Mn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"app-hand",[],null,[[null,"cardSelect"]],(function(n,t,l){var e=!0;return"cardSelect"===t&&(e=!1!==n.component.selectCard(l)&&e),e}),R,Y)),e.yb(2,114688,null,0,H,[],{game:[0,"game"],player:[1,"player"],isBeater:[2,"isBeater"],isCurrent:[3,"isCurrent"]},{cardSelect:"cardSelect"}),e.Pb(131072,o.b,[e.h]),e.Pb(131072,o.b,[e.h])],(function(n,t){var l=t.component;n(t,2,0,t.parent.parent.context.ngIf,t.context.ngIf,e.Yb(t,2,2,e.Ob(t,3).transform(l.isBeater$)),e.Yb(t,2,3,e.Ob(t,4).transform(l.isCurrent$)))}),null)}function Cn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,2,null,Mn)),e.yb(2,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,o.b,[e.h]),(n()(),e.ib(0,null,null,0))],(function(n,t){var l=t.component;n(t,2,0,e.Yb(t,2,0,e.Ob(t,3).transform(l.player$)))}),null)}function _n(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,19,"div",[["class","play-container"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,8,"div",[["class","table-wrapper"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,1,"app-deck",[["class","deck"]],null,null,null,ln,nn)),e.yb(3,114688,null,0,Z,[],{deck:[0,"deck"],trump:[1,"trump"]},null),(n()(),e.zb(4,0,null,null,2,"div",[["class","table"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,bn)),e.yb(6,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(7,0,null,null,2,"div",[["class","table table-all"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,dn)),e.yb(9,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(10,0,null,null,3,"div",[["class","players-info"]],null,null,null,null,null)),(n()(),e.zb(11,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,pn)),e.yb(13,278528,null,0,o.l,[e.Q,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(16777216,null,null,1,null,hn)),e.yb(15,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,yn)),e.yb(17,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,Cn)),e.yb(19,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,t){n(t,3,0,t.context.ngIf.deck,t.context.ngIf.trump),n(t,6,0,t.context.ngIf.beatingCards),n(t,9,0,t.context.ngIf.table),n(t,13,0,t.context.ngIf.players),n(t,15,0,"empty"===t.context.ngIf.state),n(t,17,0,"new"===t.context.ngIf.state),n(t,19,0,"new"!==t.context.ngIf.state)}),null)}function vn(n){return e.ac(0,[(n()(),e.ib(16777216,null,null,2,null,_n)),e.yb(1,16384,null,0,o.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,o.b,[e.h])],(function(n,t){var l=t.component;n(t,1,0,e.Yb(t,1,0,e.Ob(t,2).transform(l.game$)))}),null)}function Pn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"app-play-cards",[],null,null,null,vn,rn)),e.yb(1,245760,null,0,cn,[sn.a,J,on.a],null,null)],(function(n,t){n(t,1,0)}),null)}var xn=e.vb("app-play-cards",cn,Pn,{},{},[]),jn=l("s7LF"),In=l("9b/N"),wn=l("UhP/"),zn=l("1O3W"),Sn=l("9gLZ"),kn=l("iELJ"),Bn=l("rJgo"),Qn=l("wD+u"),$n=l("jmUF"),Un=l("VRCc"),Xn=l("fMxG"),An=l("TfjI"),Dn=l("SCoL"),Fn=l("8Qe2"),Nn=l("PDjf"),Jn=l("f44v"),Tn=l("1z/I"),En=l("7KAL"),Gn=l("BSbQ"),qn=l("GF+f"),Ln=l("o4Yh"),Hn=l("Q2Ze"),Yn=l("8sFK"),Kn=l("e6WT"),Vn=l("SqCe"),Wn=l("BTe0"),Rn=l("pu8Q"),Zn=l("q7Ft"),nt=l("mPVK"),tt=l("jMqV"),lt=l("zHaW"),et=l("l0rg"),at=l("Yobz"),it=l("ab3D"),ct=l("PCNd"),st=l("dWXV");class ot{}var rt=l("Ht+U");l.d(t,"BuraModuleNgFactory",(function(){return ut}));var ut=e.wb(a,[],(function(n){return e.Lb([e.Mb(512,e.j,e.ab,[[8,[i.a,c.a,c.b,s.a,xn]],[3,e.j],e.x]),e.Mb(4608,o.o,o.n,[e.u]),e.Mb(4608,jn.u,jn.u,[]),e.Mb(4608,jn.e,jn.e,[]),e.Mb(4608,In.c,In.c,[]),e.Mb(4608,wn.b,wn.b,[]),e.Mb(4608,zn.a,zn.a,[zn.g,zn.c,e.j,zn.f,zn.d,e.r,e.z,o.d,Sn.b,[2,o.i]]),e.Mb(5120,zn.h,zn.i,[zn.a]),e.Mb(5120,kn.c,kn.d,[zn.a]),e.Mb(135680,kn.e,kn.e,[zn.a,e.r,[2,o.i],[2,kn.b],kn.c,[3,kn.e],zn.c]),e.Mb(5120,Bn.c,Bn.j,[zn.a]),e.Mb(4608,Qn.a,Qn.a,[$n.c,[2,$n.b],[2,Qn.c],[2,Qn.e],e.B,e.z,[2,Qn.d]]),e.Mb(4608,Un.a,Un.a,[$n.c,[2,$n.b],e.B,e.z]),e.Mb(4608,Xn.a,Xn.a,[$n.c,[2,$n.b],[2,Xn.c],e.B,e.z]),e.Mb(4608,An.a,An.a,[$n.c,[2,$n.b],e.B,e.z]),e.Mb(5120,$n.d,$n.f,[$n.c,e.z,[2,$n.b]]),e.Mb(1073742336,o.c,o.c,[]),e.Mb(1073742336,jn.t,jn.t,[]),e.Mb(1073742336,jn.i,jn.i,[]),e.Mb(1073742336,jn.q,jn.q,[]),e.Mb(1073742336,Dn.b,Dn.b,[]),e.Mb(1073742336,In.d,In.d,[]),e.Mb(1073742336,M.a,M.a,[M.e]),e.Mb(1073742336,Sn.a,Sn.a,[]),e.Mb(1073742336,wn.j,wn.j,[M.e,[2,wn.c],[2,o.d]]),e.Mb(1073742336,Fn.a,Fn.a,[]),e.Mb(1073742336,wn.s,wn.s,[]),e.Mb(1073742336,y.c,y.c,[]),e.Mb(1073742336,Nn.f,Nn.f,[]),e.Mb(1073742336,Jn.d,Jn.d,[]),e.Mb(1073742336,Tn.f,Tn.f,[]),e.Mb(1073742336,En.c,En.c,[]),e.Mb(1073742336,zn.e,zn.e,[]),e.Mb(1073742336,kn.k,kn.k,[]),e.Mb(1073742336,Gn.b,Gn.b,[]),e.Mb(1073742336,qn.c,qn.c,[]),e.Mb(1073742336,Ln.c,Ln.c,[]),e.Mb(1073742336,Hn.f,Hn.f,[]),e.Mb(1073742336,f.c,f.c,[]),e.Mb(1073742336,Yn.c,Yn.c,[]),e.Mb(1073742336,Kn.b,Kn.b,[]),e.Mb(1073742336,wn.k,wn.k,[]),e.Mb(1073742336,wn.q,wn.q,[]),e.Mb(1073742336,Vn.c,Vn.c,[]),e.Mb(1073742336,Bn.i,Bn.i,[]),e.Mb(1073742336,Bn.f,Bn.f,[]),e.Mb(1073742336,Wn.c,Wn.c,[]),e.Mb(1073742336,Rn.a,Rn.a,[]),e.Mb(1073742336,Zn.h,Zn.h,[]),e.Mb(1073742336,nt.a,nt.a,[]),e.Mb(1073742336,tt.d,tt.d,[]),e.Mb(1073742336,tt.c,tt.c,[]),e.Mb(1073742336,lt.e,lt.e,[]),e.Mb(1073742336,et.b,et.b,[]),e.Mb(1073742336,at.a,at.a,[]),e.Mb(1073742336,Qn.b,Qn.b,[]),e.Mb(1073742336,Un.b,Un.b,[]),e.Mb(1073742336,Xn.b,Xn.b,[]),e.Mb(1073742336,An.b,An.b,[]),e.Mb(1073742336,$n.a,$n.a,[e.B]),e.Mb(1073742336,it.a,it.a,[]),e.Mb(1073742336,ct.a,ct.a,[]),e.Mb(1073742336,on.t,on.t,[[2,on.z],[2,on.p]]),e.Mb(1073742336,ot,ot,[]),e.Mb(1073742336,a,a,[]),e.Mb(256,Jn.a,{separatorKeyCodes:[rt.f]},[]),e.Mb(256,$n.c,{apiKey:"AIzaSyB8OELF8OtaSi-hF8rJm3lzgBn5GOI6Yeo",authDomain:"uno-server-3000.firebaseapp.com",databaseURL:"https://uno-server-3000.firebaseio.com",projectId:"uno-server-3000",storageBucket:"uno-server-3000.appspot.com",messagingSenderId:"460750590702",appId:"1:460750590702:web:e38380af9f7ff3e2a699ff",measurementId:"G-1D1LTS2GWF"},[]),e.Mb(256,$n.b,void 0,[]),e.Mb(1024,on.m,(function(){return[[{path:"",component:cn,resolve:{roomId:st.a}}]]}),[])])}))}}]);