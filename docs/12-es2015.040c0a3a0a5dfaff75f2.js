(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"Fe+7":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class i{constructor(n){this.data=n}ngOnInit(){}}var o=t("mWqA");class a{constructor(n,l){this.dialogRef=n,this.data=l,this.users=[],l&&l.users&&(this.users=l.users)}}var r=t("mrSG"),u=t("s7LF"),s=t("eIep"),c=t("SxV6"),b=t("DnKK"),d=t("jT/F");class m{constructor(n,l,t,e){this.router=n,this.api=l,this.auth=t,this.fileUpload=e,this.name=new u.f("",[u.s.required])}ngOnInit(){}ngOnDestroy(){}create(){const n={name:this.name.value};this.photoURL&&(n.photoURL=this.photoURL),this.auth.authorized$.pipe(Object(s.a)(l=>this.api.room.createRoom(l,n))).pipe(Object(c.a)(),Object(b.a)(this)).subscribe(n=>this.router.navigate([`/room/${n}`]))}uploadImage(n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const l=n.target;if(l.files&&l.files.length){const n=new d.a(l.files[0]),t=yield this.fileUpload.upload(n);this.photoURL=t.url}}))}}class p{}var f=t("9cE2"),h=t("007U"),g=t("pMnS"),v=t("XE/z"),O=t("Tj54"),y=t("F9ui"),_=t("SqCe"),w=t("iInd"),M=t("SVse"),C=t("mGvx"),z=t("BSbQ"),x=t("lJxs");class I{constructor(n,l,t){this.api=n,this.auth=l,this.createRoom=t}ngOnInit(){this.rooms$=this.auth.authorized$.pipe(Object(s.a)(n=>this.api.room.userRooms(n.id)),Object(x.a)(n=>n.map(n=>Object.assign(Object.assign({},n),{name:n.name||n.users.map(n=>n.name).join(", ")}))))}create(){this.createRoom.create()}}var P=t("Ngqg"),k=t("lGQG"),S=t("+/jX"),j=e.xb({encapsulation:0,styles:[[".profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.profile-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px;color:#333;background-color:#ddd;background-size:cover;border-radius:100%;position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center}.profile-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%}.profile-container[_ngcontent-%COMP%]   .profile-data__primary[_ngcontent-%COMP%]{font-size:1em}.profile-container[_ngcontent-%COMP%]   .profile-data__secondary[_ngcontent-%COMP%]{font-size:.8em;color:#ccc}"]],data:{}});function T(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,0,"img",[["class","profile-img"]],[[8,"src",4]],null,null,null,null))],null,(function(n,l){n(l,0,0,l.parent.context.$implicit.photoURL)}))}function $(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["groups"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function R(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,19,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,16,"a",[["class","profile-container mat-list-item mat-focus-indicator"],["mat-list-item",""]],[[2,"mat-list-item-disabled",null],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Ob(n,6).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&i),i}),y.c,y.a)),e.yb(2,1228800,null,3,_.b,[e.l,e.h,[2,_.e],[2,_.a]],null,null),e.Tb(603979776,4,{_lines:1}),e.Tb(603979776,5,{_avatar:0}),e.Tb(603979776,6,{_icon:0}),e.yb(6,671744,null,0,w.s,[w.p,w.a,M.j],{routerLink:[0,"routerLink"]},null),(n()(),e.zb(7,0,null,2,4,"div",[["class","profile-avatar"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,T)),e.yb(9,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,$)),e.yb(11,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(12,0,null,2,5,"div",[["class","profile-data"]],null,null,null,null,null)),(n()(),e.zb(13,0,null,null,1,"div",[["class","profile-data__primary"]],null,null,null,null,null)),(n()(),e.Xb(14,null,["",""])),(n()(),e.zb(15,0,null,null,2,"div",[["class","profile-data__secondary"]],null,null,null,null,null)),(n()(),e.zb(16,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Xb(17,null,["",""])),(n()(),e.zb(18,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,C.b,C.a)),e.yb(19,49152,null,0,z.a,[],null,null)],(function(n,l){n(l,6,0,e.Gb(1,"/room/",l.context.$implicit.id,"")),n(l,9,0,l.context.$implicit.photoURL),n(l,11,0,!l.context.$implicit.photoURL)}),(function(n,l){n(l,1,0,e.Ob(l,2).disabled,e.Ob(l,2)._avatar||e.Ob(l,2)._icon,e.Ob(l,2)._avatar||e.Ob(l,2)._icon,e.Ob(l,6).target,e.Ob(l,6).href),n(l,14,0,l.context.$implicit.name),n(l,17,0,l.context.$implicit.lastMessage),n(l,18,0,e.Ob(l,19).vertical?"vertical":"horizontal",e.Ob(l,19).vertical,!e.Ob(l,19).vertical,e.Ob(l,19).inset)}))}function D(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,18,"mat-nav-list",[["class","room-list wide-list mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,y.d,y.b)),e.yb(1,704512,null,0,_.e,[],null,null),(n()(),e.zb(2,0,null,0,11,"a",[["class","profile-container mat-list-item mat-focus-indicator"],["mat-list-item",""]],[[2,"mat-list-item-disabled",null],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.create()&&e),e}),y.c,y.a)),e.yb(3,1228800,null,3,_.b,[e.l,e.h,[2,_.e],[2,_.a]],null,null),e.Tb(603979776,1,{_lines:1}),e.Tb(603979776,2,{_avatar:0}),e.Tb(603979776,3,{_icon:0}),(n()(),e.zb(7,0,null,2,3,"div",[["class","profile-avatar"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(9,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["group_add"])),(n()(),e.zb(11,0,null,2,2,"div",[["class","profile-data"]],null,null,null,null,null)),(n()(),e.zb(12,0,null,null,1,"div",[["class","profile-data__primary"]],null,null,null,null,null)),(n()(),e.Xb(-1,null,["+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443"])),(n()(),e.zb(14,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,C.b,C.a)),e.yb(15,49152,null,0,z.a,[],null,null),(n()(),e.ib(16777216,null,0,2,null,R)),e.yb(17,278528,null,0,M.l,[e.Q,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),e.Pb(131072,M.b,[e.h])],(function(n,l){var t=l.component;n(l,9,0),n(l,17,0,e.Yb(l,17,0,e.Ob(l,18).transform(t.rooms$)))}),(function(n,l){n(l,2,0,e.Ob(l,3).disabled,e.Ob(l,3)._avatar||e.Ob(l,3)._icon,e.Ob(l,3)._avatar||e.Ob(l,3)._icon),n(l,8,0,e.Ob(l,9).inline,"primary"!==e.Ob(l,9).color&&"accent"!==e.Ob(l,9).color&&"warn"!==e.Ob(l,9).color),n(l,14,0,e.Ob(l,15).vertical?"vertical":"horizontal",e.Ob(l,15).vertical,!e.Ob(l,15).vertical,e.Ob(l,15).inset)}))}function X(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"app-room-list",[],null,null,null,D,j)),e.yb(1,114688,null,0,I,[P.a,k.a,S.a],null,null)],(function(n,l){n(l,1,0)}),null)}var A=e.vb("app-room-list",I,X,{},{},[]),F=t("BTe0"),q=t("9gLZ"),U=t("UhP/"),Q=t("YEUz"),L=t("omvX"),N=e.xb({encapsulation:2,styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],data:{}});function V(n){return e.ac(2,[e.Tb(671088640,1,{_primaryValueBar:0}),(n()(),e.zb(1,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","4"],["width","100%"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,1,":svg:pattern",[["height","4"],["patternUnits","userSpaceOnUse"],["width","8"],["x","4"],["y","0"]],[[8,"id",0]],null,null,null,null)),(n()(),e.zb(4,0,null,null,0,":svg:circle",[["cx","2"],["cy","2"],["r","2"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(n()(),e.zb(6,0,null,null,1,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),e.yb(7,278528,null,0,M.p,[e.l,e.t,e.E],{ngStyle:[0,"ngStyle"]},null),(n()(),e.zb(8,0,[[1,0],["primaryValueBar",1]],null,1,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),e.yb(9,278528,null,0,M.p,[e.l,e.t,e.E],{ngStyle:[0,"ngStyle"]},null),(n()(),e.zb(10,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],(function(n,l){var t=l.component;n(l,7,0,t._bufferTransform()),n(l,9,0,t._primaryTransform())}),(function(n,l){var t=l.component;n(l,3,0,t.progressbarId),n(l,5,0,t._rectangleFillValue)}))}class E{constructor(n){this.room=n}ngOnInit(){this.room.create()}}var G=e.xb({encapsulation:0,styles:[[".create-room-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]],data:{}});function B(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","create-room-page"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","query"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,V,N)),e.yb(2,4374528,null,0,F.b,[e.l,e.z,[2,L.a],[2,F.a]],{mode:[0,"mode"]},null),(n()(),e.zb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Xb(-1,null,["\u0421\u043e\u0437\u0434\u0435\u043c \u043a\u043e\u043c\u043d\u0430\u0442\u0443..."]))],(function(n,l){n(l,2,0,"query")}),(function(n,l){n(l,1,0,"indeterminate"===e.Ob(l,2).mode||"query"===e.Ob(l,2).mode?null:e.Ob(l,2).value,e.Ob(l,2).mode,e.Ob(l,2)._isNoopAnimation)}))}function Y(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"ng-component",[],null,null,null,B,G)),e.yb(1,114688,null,0,E,[S.a],null,null)],(function(n,l){n(l,1,0)}),null)}var K=e.vb("ng-component",E,Y,{},{},[]),J=t("1Xc+"),W=t("Dxy4");class Z{constructor(){}ngOnInit(){}pictureInPictureEnabled(){return"pictureInPictureEnabled"in document}fullscreen(){const n=this.videoRef.nativeElement;n.requestFullscreen&&n.requestFullscreen().catch(n=>console.log(n))}pictureInPicture(){const n=this.videoRef.nativeElement;n.requestPictureInPicture&&n.requestPictureInPicture().catch(n=>console.log(n))}}var H=e.xb({encapsulation:0,styles:[[".flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.video-wrapper[_ngcontent-%COMP%]{position:relative}.video-wrapper[_ngcontent-%COMP%], .video-wrapper[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-end;justify-content:space-between}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{opacity:.8;padding:1px 5px;border:1px solid hsla(0,0%,100%,.8);background-color:rgba(34,34,34,.4)}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .stream-controls[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{max-width:100%;height:100px}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;font-size:3em}"]],data:{}});function nn(n){return e.ac(0,[(n()(),e.zb(0,0,[[1,0],["video",1]],null,0,"video",[["autoplay",""],["class","video"],["muted",""]],[[8,"srcObject",0]],null,null,null,null))],null,(function(n,l){n(l,0,0,l.component.connection.stream)}))}function ln(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Xb(1,null,[" "," "]))],null,(function(n,l){n(l,1,0,l.component.connection.userName[0].toUpperCase())}))}function tn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","profile-info flex-center"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"div",[["class","profile-name flex-center"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,ln)),e.yb(3,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,3,0,l.component.connection.userName)}),null)}function en(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.pictureInPicture()&&e),e}),J.b,J.a)),e.yb(1,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.zb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(3,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["picture_in_picture"]))],(function(n,l){n(l,3,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).disabled||null,"NoopAnimations"===e.Ob(l,1)._animationMode),n(l,2,0,e.Ob(l,3).inline,"primary"!==e.Ob(l,3).color&&"accent"!==e.Ob(l,3).color&&"warn"!==e.Ob(l,3).color)}))}function on(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,7,"div",[["class","stream-controls"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.fullscreen()&&e),e}),J.b,J.a)),e.yb(2,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(4,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["fullscreen"])),(n()(),e.ib(16777216,null,null,1,null,en)),e.yb(7,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,4,0),n(l,7,0,t.pictureInPictureEnabled)}),(function(n,l){n(l,1,0,e.Ob(l,2).disabled||null,"NoopAnimations"===e.Ob(l,2)._animationMode),n(l,3,0,e.Ob(l,4).inline,"primary"!==e.Ob(l,4).color&&"accent"!==e.Ob(l,4).color&&"warn"!==e.Ob(l,4).color)}))}function an(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","progress-bar-inverse mat-progress-bar"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,V,N)),e.yb(1,4374528,null,0,F.b,[e.l,e.z,[2,L.a],[2,F.a]],{mode:[0,"mode"]},null)],(function(n,l){n(l,1,0,"indeterminate")}),(function(n,l){n(l,0,0,"indeterminate"===e.Ob(l,1).mode||"query"===e.Ob(l,1).mode?null:e.Ob(l,1).value,e.Ob(l,1).mode,e.Ob(l,1)._isNoopAnimation)}))}function rn(n){return e.ac(0,[e.Tb(671088640,1,{videoRef:0}),(n()(),e.zb(1,0,null,null,12,"div",[["class","video-wrapper flex-center"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,nn)),e.yb(3,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,tn)),e.yb(5,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(6,0,null,null,7,"div",[["class","video-cover"]],null,null,null,null,null)),(n()(),e.zb(7,0,null,null,4,"div",[["class","info-block"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(n()(),e.Xb(9,null,[" "," "])),(n()(),e.ib(16777216,null,null,1,null,on)),e.yb(11,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,an)),e.yb(13,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,3,0,t.connection.stream),n(l,5,0,!t.connection.stream),n(l,11,0,t.connection.stream),n(l,13,0,!t.connection.isConnectedOrConnecting)}),(function(n,l){n(l,9,0,l.component.connection.userName)}))}class un{constructor(){}ngOnInit(){}}var sn=e.xb({encapsulation:0,styles:[[".flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.video-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.video-wrapper[_ngcontent-%COMP%]   .mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.video-wrapper[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-start}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{max-width:100%;height:100px}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;font-size:3em}.video-wrapper[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{opacity:.8;padding:1px 5px;border:1px solid hsla(0,0%,100%,.8);background-color:rgba(34,34,34,.4)}"]],data:{}});function cn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,0,"video",[["autoplay",""],["class","video"],["id","self-video"],["muted",""]],[[8,"srcObject",0],[2,"mirrored",null]],null,null,null,null))],null,(function(n,l){var t=l.component;n(l,0,0,t.user.stream,t.user.isFrontCamera)}))}function bn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,0,"img",[["class","profile-pic"]],[[8,"src",4]],null,null,null,null))],null,(function(n,l){n(l,0,0,l.component.user.photoURL)}))}function dn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Xb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.user.name[0].toUpperCase())}))}function mn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"div",[["class","profile-name flex-center"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,dn)),e.yb(2,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,l.component.user.name)}),null)}function pn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","profile-info flex-center"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,bn)),e.yb(2,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,mn)),e.yb(4,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.user.photoURL),n(l,4,0,!t.user.photoURL)}),null)}function fn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,8,"div",[["class","video-wrapper flex-center"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,cn)),e.yb(2,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,pn)),e.yb(4,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(5,0,null,null,3,"div",[["class","video-cover flex-center"]],null,null,null,null,null)),(n()(),e.zb(6,0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(n()(),e.Xb(7,null,["",""])),(n()(),e.zb(8,0,null,null,0,"div",[["class","video-controls flex-center"]],null,null,null,null,null))],(function(n,l){var t=l.component;n(l,2,0,t.user.stream),n(l,4,0,!t.user.stream)}),(function(n,l){n(l,7,0,l.component.user.name)}))}var hn=t("ixTe"),gn=e.xb({encapsulation:0,styles:[[".viewport[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:hidden;overscroll-behavior:none;display:flex}.viewport.vertical[_ngcontent-%COMP%]{flex-direction:column}.viewport.vertical[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:0;width:100%}.viewport.horizontal[_ngcontent-%COMP%]{flex-direction:row}.viewport.horizontal[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:100%;width:0}.viewport.horizontal[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.viewport.animate[_ngcontent-%COMP%]   .bottom-pane[_ngcontent-%COMP%], .viewport.animate[_ngcontent-%COMP%]   .top-pane[_ngcontent-%COMP%]{transition:all .3s ease}.viewport[_ngcontent-%COMP%]   .top-pane[_ngcontent-%COMP%]{flex-wrap:wrap;flex-grow:0;height:100%;width:100%;overflow:auto}.viewport[_ngcontent-%COMP%]   .bottom-pane[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.viewport[_ngcontent-%COMP%]   .pane-content[_ngcontent-%COMP%]{height:100%}.viewport[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.viewport[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:fixed;z-index:1000;cursor:-webkit-grab;cursor:grab}"]],data:{}});function vn(n){return e.ac(2,[e.Tb(671088640,1,{viewportRef:0}),e.Tb(671088640,2,{topPaneRef:0}),e.Tb(671088640,3,{dividerRef:0}),e.Tb(671088640,4,{bottomPaneRef:0}),e.Tb(671088640,5,{handleRef:0}),(n()(),e.zb(5,0,[[1,0],["viewport",1]],null,10,"div",[],[[8,"className",0],[2,"animate",null]],null,null,null,null)),(n()(),e.zb(6,0,[[2,0],["topPane",1]],null,1,"div",[["class","top-pane"]],null,null,null,null,null)),e.Nb(null,0),(n()(),e.zb(8,0,[[3,0],["divider",1]],null,5,"div",[["class","divider"]],null,null,null,null,null)),(n()(),e.zb(9,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,J.b,J.a)),e.yb(10,180224,[[5,4],["handle",4]],0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.zb(11,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(12,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["drag_handle"])),(n()(),e.zb(14,0,[[4,0],["bottomPane",1]],null,1,"div",[["class","bottom-pane"]],null,null,null,null,null)),e.Nb(null,1)],(function(n,l){n(l,12,0)}),(function(n,l){var t=l.component;n(l,5,0,e.Gb(1,"viewport ",t.orientation,""),!t.isDragging),n(l,9,0,e.Ob(l,10).disabled||null,"NoopAnimations"===e.Ob(l,10)._animationMode),n(l,11,0,e.Ob(l,12).inline,"primary"!==e.Ob(l,12).color&&"accent"!==e.Ob(l,12).color&&"warn"!==e.Ob(l,12).color)}))}var On=t("4Fe3");class yn{constructor(){}ngOnInit(){}get connectionCount(){return this.user&&this.user.connections?this.user.connections.length:0}}var _n=e.xb({encapsulation:0,styles:[[".viewport[_ngcontent-%COMP%]{width:100%;position:relative;flex-direction:column}.videos[_ngcontent-%COMP%], .viewport[_ngcontent-%COMP%]{height:100%;overflow:hidden;display:flex}.videos[_ngcontent-%COMP%]{flex-grow:0;flex-wrap:wrap;align-items:stretch}.videos[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{max-height:100%;flex-grow:1;flex-basis:0;border:1px solid #222}.content-wapper[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;background-size:cover;background-repeat:no-repeat;background-position:50%;background-position-y:bottom}.content[_ngcontent-%COMP%]{height:100%}"]],data:{}});function wn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"app-video-item",[],[[8,"className",0]],null,null,rn,H)),e.yb(2,114688,null,0,Z,[],{connection:[0,"connection"]},null)],(function(n,l){n(l,2,0,l.context.$implicit)}),(function(n,l){n(l,1,0,e.Gb(1,"video-container video-container-",l.component.connectionCount,""))}))}function Mn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"app-self-video",[],[[8,"className",0]],null,null,fn,sn)),e.yb(2,114688,null,0,un,[],{user:[0,"user"]},null),(n()(),e.ib(16777216,null,null,1,null,wn)),e.yb(4,278528,null,0,M.l,[e.Q,e.M,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ib(0,null,null,0))],(function(n,l){var t=l.component;n(l,2,0,t.user),n(l,4,0,t.user.connections)}),(function(n,l){n(l,1,0,e.Gb(1,"video-container video-container-",l.component.connectionCount,""))}))}function Cn(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,7,"app-resizable-panes",[],null,[["window","resize"],["window","orientationchange"],["document","mouseup"],["document","touchend"],["document","touchcancel"],["document","mousemove"],["document","touchmove"]],(function(n,l,t){var i=!0;return"window:resize"===l&&(i=!1!==e.Ob(n,1).setOrientation()&&i),"window:orientationchange"===l&&(i=!1!==e.Ob(n,1).setOrientation()&&i),"document:mouseup"===l&&(i=!1!==e.Ob(n,1).stopDrag()&&i),"document:touchend"===l&&(i=!1!==e.Ob(n,1).stopDrag()&&i),"document:touchcancel"===l&&(i=!1!==e.Ob(n,1).stopDrag()&&i),"document:mousemove"===l&&(i=!1!==e.Ob(n,1).drag(t)&&i),"document:touchmove"===l&&(i=!1!==e.Ob(n,1).drag(t)&&i),i}),vn,gn)),e.yb(1,4767744,null,0,hn.a,[e.h],{state:[0,"state"],autorotate:[1,"autorotate"]},null),(n()(),e.zb(2,0,null,0,3,"div",[["appOrientation",""],["class","videos"],["top-pane",""]],null,[["window","resize"],["window","orientationchange"]],(function(n,l,t){var i=!0;return"window:resize"===l&&(i=!1!==e.Ob(n,3).setOrientation()&&i),"window:orientationchange"===l&&(i=!1!==e.Ob(n,3).setOrientation()&&i),i}),null,null)),e.yb(3,4210688,null,0,On.a,[e.l],null,null),(n()(),e.ib(16777216,null,null,1,null,Mn)),e.yb(5,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(6,0,null,1,1,"div",[["bottom-pane",""],["class","content"]],null,null,null,null,null)),e.Nb(null,0)],(function(n,l){var t=l.component;n(l,1,0,t.viewState,!0),n(l,5,0,t.user)}),null)}var zn=t("2Vo4");class xn{constructor(n){this.room=n,this.isAudioOn$=new zn.a(!0),this.isVideoOn$=new zn.a(!0),this.isFront$=new zn.a(!0),this.canFlipCamera=!1,this.videoDevices=[],this.currentDevice=null}ngOnInit(){navigator.mediaDevices.enumerateDevices().then(n=>{this.videoDevices=n.filter(n=>"videoinput"==n.kind),this.canFlipCamera=this.videoDevices.length>1,this.currentDevice=this.videoDevices[0]})}get canShareScreen(){return"getDisplayMedia"in navigator.mediaDevices}toggleSound(){this.isAudioOn$.next(!this.isAudioOn$.value),this.user.toggleAudio()}toggleVideo(){this.isVideoOn$.next(!this.isVideoOn$.value),this.user.toggleVideo()}flipCamera(){const n=this.videoDevices.indexOf(this.currentDevice);this.currentDevice=this.videoDevices[(n+1)%this.videoDevices.length],this.isFront$.next(!this.isFront$.value),this.user.toggleCamera(this.currentDevice),this.user.isFrontCamera=this.isFront$.value}toggleMediaType(){this.room.toggleMediaType()}toggleBottom(){this.room.toggleBottom()}call(){this.room.call()}hangup(){this.room.hangup()}}var In=t("vkgz"),Pn=t("pLZG"),kn=t("7o/Q");function Sn(n,l=!1){return t=>t.lift(new jn(n,l))}class jn{constructor(n,l){this.predicate=n,this.inclusive=l}call(n,l){return l.subscribe(new Tn(n,this.predicate,this.inclusive))}}class Tn extends kn.a{constructor(n,l,t){super(n),this.predicate=l,this.inclusive=t,this.index=0}_next(n){const l=this.destination;let t;try{t=this.predicate(n,this.index++)}catch(e){return void l.error(e)}this.nextOrComplete(n,t)}nextOrComplete(n,l){const t=this.destination;Boolean(l)?t.next(n):(this.inclusive&&t.next(n),t.complete())}}var $n=t("D0XW");t("l7GE"),t("ZUHj");const Rn={leading:!0,trailing:!1};function Dn(n,l=$n.a,t=Rn){return e=>e.lift(new Xn(n,l,t.leading,t.trailing))}class Xn{constructor(n,l,t,e){this.duration=n,this.scheduler=l,this.leading=t,this.trailing=e}call(n,l){return l.subscribe(new An(n,this.duration,this.scheduler,this.leading,this.trailing))}}class An extends kn.a{constructor(n,l,t,e,i){super(n),this.duration=l,this.scheduler=t,this.leading=e,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Fn,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)}}function Fn(n){const{subscriber:l}=n;l.clearThrottle()}var qn=t("/uUt");t("c1bQ");var Un=t("VHTt"),Qn=t("LRne"),Ln=t("U7T7");let Nn=(()=>{class n{constructor(n){this.api=n}sendIceCandidatesByGatheringState(n,l,t){if(!l)return;if(!t)return;if(!n)return;if(!n.peer)return;this.iceSendingId&&clearInterval(this.iceSendingId);const e=n.peer;"complete"===e.iceGatheringState&&this.sendIceCandidates(n,l,t),"gathering"===e.iceGatheringState&&(this.iceSendingId=setInterval(()=>{this.sendIceCandidates(n,l,t)},1e3))}sendIceCandidatesIfCompleted(n,l,t){l&&t&&n&&n.peer&&"complete"===n.peer.iceGatheringState&&this.sendIceCandidates(n,l,t)}sendIceCandidates(n,l,t){if(!l)return;if(!t)return;if(!n)return;if(!n.iceCandidates)return;if(!n.iceCandidates.length)return;const e=[];for(;n.iceCandidates.length;){const l=n.iceCandidates.pop();e.push(l.toJSON())}console.log("sending IceCandidates"),this.api.offer.addIceCandidate(this.roomId,{sender:l,reciever:t,candidates:e}).catch(this.handleError)}addIceCandidatesIfExists(n){return this.api.offer.userIceCandidates(this.roomId,n.id).pipe(Object(c.a)()).pipe(Object(In.a)(l=>{l&&l.length&&this.addIceCandidates(n,l)}))}addIceCandidates(n,l){console.log("Got ice candidates",l),l.map(l=>{n.getConnection(l.sender).addIceCandidatesToQueue(l.candidates)})}handleError(n){return console.log(n),Object(Qn.a)(null)}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(P.a))},token:n,providedIn:"root"}),n})(),Vn=(()=>{class n{constructor(n,l){this.api=n,this.iceCandidateService=l}init(n,l){this.user=n,this.roomId=l,this.iceCandidateService.roomId=l}offerAll(n,l){for(const t of l)this.offer(n,t.id,t.name).then()}answerAll(n,l){for(const t of n){const n=l.find(n=>n.id==t.sender);this.answer(this.user.id,t,n?n.name:t.sender).then()}}setRemoteAll(n,l){for(const t of n){const n=l.find(n=>n.id==t.sender);this.setRemote(t,n?n.name:t.sender).then()}}offer(n,l,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=this.user.getConnection(l,t),i=e.peer;e.isConnected||(e.showState("offer"),this.user.addTracks(i),i.onicegatheringstatechange=()=>{e.showState("offer: onicegatheringstatechange"),this.iceCandidateService.sendIceCandidatesByGatheringState(e,n,l)},yield i.setLocalDescription(yield i.createOffer(Ln.b)),e.showState("offer: setLocalDescription"),this.sendOffer("offer",n,l,i))}))}answer(n,l,t){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const e=l.sender,i=this.user.getConnection(e,t),o=i.peer;i.isConnected||(i.showState("answer"),this.user.addTracks(o),o.onicegatheringstatechange=()=>{i.showState("answer: onicegatheringstatechange"),this.iceCandidateService.sendIceCandidatesIfCompleted(i,n,e)},yield this.trySetRemote(i,l),this.tryCreateAnswer(i,3,()=>{this.iceCandidateService.addIceCandidatesIfExists(this.user).subscribe(()=>this.sendOffer("answer",n,e,o))}))}))}setRemote(n,l){return Object(r.__awaiter)(this,void 0,void 0,(function*(){const t=this.user.getConnection(n.sender,l);t.isConnected||(t.showState("setRemote"),this.trySetRemoteWithRetry(t,n,3))}))}sendOffer(n,l,t,e){this.api.offer.createOffer(this.roomId,{type:n,sender:l,receiver:t,description:e.localDescription.toJSON()}).catch(this.handleError)}trySetRemote(n,l){return Object(r.__awaiter)(this,void 0,void 0,(function*(){try{const t=n.peer;"stable"!=t.signalingState?(console.log("rollback"),yield Promise.all([t.setLocalDescription({type:"rollback"}),t.setRemoteDescription(l.description)])):yield t.setRemoteDescription(l.description),yield t.setRemoteDescription(l.description),n.showState("answer: setRemoteDescription")}catch(t){console.log(t)}}))}tryCreateAnswer(n,l,t){if(l<=0)return;const e=n.peer;let i=!1;setTimeout(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield e.setLocalDescription(yield e.createAnswer(Ln.b)),n.showState("answer: createAnswer, setLocalDescription"),t(),i=!0}catch(o){console.log(o)}i||this.tryCreateAnswer(n,--l,t)})),100)}trySetRemoteWithRetry(n,l,t){if(t<=0)return;const e=n.peer;let i=!1;setTimeout(()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){try{yield e.setRemoteDescription(l.description),n.showState("setRemote: setRemoteDescription"),i=!0}catch(o){console.log(o)}i||this.trySetRemoteWithRetry(n,l,--t)})),100)}handleError(n){return console.log(n),Object(Qn.a)(null)}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(P.a),e.cc(Nn))},token:n,providedIn:"root"}),n})();var En=t("K6Ak");class Gn{constructor(n,l,t=""){this.name=n,this.text=l,this.icon=t,this.visible=!0,this.disabled=!1}}const Bn=new class{constructor(n,l,t=[]){this.name=n,this.text=l,this.commands=t,this.order=0,this.icon=""}setCommandOptions(n,l){const t=this.commands.find(l=>l.name===n);Object.assign(t,l)}}("video_chat","\u0412\u0438\u0434\u0435\u043e \u0447\u0430\u0442",[new Gn("call","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f","phone"),new Gn("hangup","\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c","call_end"),new Gn("shareLink","\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439","share"),new Gn("copyLink","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","link"),new Gn("leaveRoom","\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443","power_settings_new")]);var Yn=t("4yAo");let Kn=(()=>{class n{constructor(n){this.commands=n}ngOnDestroy(){this.unregister()}register(){const n="share"in navigator;Bn.setCommandOptions("shareLink",{visible:n}),Bn.setCommandOptions("copyLink",{visible:!n}),this.commands.registerGroup(Bn)}unregister(){this.commands.unregisterGroup(Bn)}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(Yn.a))},token:n,providedIn:"root"}),n})(),Jn=(()=>{class n{constructor(){}setStream(n,l="user"){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!n)return;const t=new MediaStream,e=n=>{n.getTracks().forEach(n=>t.addTrack(n))},i=navigator.mediaDevices.getUserMedia({audio:!0}).then(n=>e(n)).catch(n=>console.log(n));let o=null;return o="user"===l?navigator.mediaDevices.getUserMedia({video:Ln.c}).then(n=>e(n)).catch(n=>console.log(n)):navigator.mediaDevices.getDisplayMedia().then(n=>e(n)).catch(n=>console.log(n)),Promise.all([i,o]).then(()=>{t.getTracks().length>0&&(n.stream&&(n.stream.getTracks().forEach(n=>n.stop()),t.getTracks().forEach(l=>n.replaceTrack(l))),n.stream=t,n.connections.forEach(l=>n.addTracks(l.peer)),this.muteSelfStream())})}))}closeStream(n){n&&n.stream&&(n.stream.getTracks().forEach(l=>{l.stop(),n.stream.removeTrack(l)}),n.stream=null)}requestMedia(n){this.setStream(n)}muteSelfStream(){setTimeout(()=>{const n=document.querySelector("#self-video");n&&(n.volume=0)},100)}}return n.\u0275prov=e.bc({factory:function(){return new n},token:n,providedIn:"root"}),n})();var Wn=t("zHaW");let Zn=(()=>{class n{constructor(n,l,t,e,i,o,a,r,u){this.router=n,this.api=l,this.auth=t,this.connectionService=e,this.title=i,this.roomCommands=o,this.commands=a,this.media=r,this.snackBar=u,this.isConnectionOn$=new zn.a(!0),this.user$=new zn.a(null),this.viewState$=new zn.a("top"),this.prevState="top",this.mediaType="user"}ngOnDestroy(){this.hangup(),this.closeStream(),this.title.toDefault(),this.roomCommands.unregister()}ngOnInit(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){if(!(yield this.api.room.exists(this.roomId)))return this.router.navigate([""]);this.auth.authorized$.pipe(Object(b.a)(this),Object(In.a)(n=>n&&this.joinRoom(n)),Object(x.a)(n=>n?new Un.a(n.id,n.name):null)).pipe(Object(c.a)(),Object(b.a)(this)).subscribe(n=>{n&&this.initialize(n)}),this.roomCommands.register(),this.commands.current$.pipe(Object(b.a)(this)).pipe(Object(Pn.a)(n=>!!n)).subscribe(n=>{const l=this[n.name];l&&"function"==typeof l&&l.call(this)})}))}initialize(n){this.user=n,this.user$.next(n),this.connectionService.init(n,this.roomId),this.onlineUsers$=this.api.room.roomUsers(this.roomId).pipe(Object(b.a)(this)),this.offers$=this.api.offer.userOffers(this.roomId,this.user.id).pipe(Object(b.a)(this),Sn(()=>this.isConnectionOn$.value)),this.answers$=this.api.offer.userAnswers(this.roomId,this.user.id).pipe(Object(b.a)(this),Sn(()=>this.isConnectionOn$.value)),this.api.offer.userDisconnections(this.roomId,this.user.id).pipe(Object(b.a)(this)).subscribe(n=>{console.log("dissconnection",n),n.forEach(n=>{this.user.closeConnection(n.sender),this.user.closeConnection(n.receiver)})}),this.setTitle(),this.listenToOffers(),this.listenToAnswers(),this.confirmJoinCall(),this.code$=this.user.messages$.pipe(Object(In.a)(n=>console.log(n)))}confirmJoinCall(){this.onlineUsers$.pipe(Object(c.a)(),Object(b.a)(this)).subscribe(n=>{})}toggleMediaType(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.mediaType="user"===this.mediaType?"display":"user",yield this.setStream()}))}setStream(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.viewState$.next("middle"),yield this.media.setStream(this.user,this.mediaType)}))}closeStream(){this.media.closeStream(this.user)}requestMedia(){this.media.requestMedia(this.user)}transferText(n){this.user.connections.forEach(l=>{l.transfer.send(n)})}shareLink(){var n;n=location.href,"share"in navigator&&navigator.share({title:"Uno",text:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0432\u0438\u0434\u0435\u043e \u0437\u0432\u043e\u043d\u043a\u0443:",url:n}).then(()=>console.log("Successful share")).catch(n=>console.log("Error sharing:",n))}copyLink(){!function(n){let l=!1,t=document.createElement("textarea");t.value=n,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{l=document.execCommand("copy")}catch(e){console.error("Unable to copy",e)}document.body.removeChild(t)}(location.href),this.snackBar.open("C\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430","",{duration:2e3})}call(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.isConnectionOn$.next(!0),yield this.setStream(),this.roomUsers().pipe(Object(c.a)(),Object(b.a)(this)).subscribe(n=>this.connectionService.offerAll(this.user.id,n))}))}hangup(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.user&&(console.log("clearing connections.."),this.isConnectionOn$.next(!1),this.user.closeConnections(),this.viewState$.next("top"),this.closeStream(),yield this.api.offer.clearConnections(this.roomId,this.user.id),this.isConnectionOn$.next(!0),console.log("clearing connections done."))}))}leaveRoom(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){yield this.api.room.leaveRoom(this.roomId,this.user.id),this.router.navigate(["/"])}))}retryCall(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.isConnectionOn$.next(!1),this.user.closeConnections(),yield this.api.offer.clearConnections(this.roomId,this.user.id),this.roomUsers().pipe(Object(c.a)(),Object(b.a)(this)).subscribe(n=>{this.isConnectionOn$.next(!0),this.connectionService.offerAll(this.user.id,n)})}))}toggleTop(){const n="top"==this.prevState?"middle":this.prevState,l="top"===this.viewState$.value?n:"top";this.prevState=n,this.viewState$.next(l)}toggleBottom(){const n="bottom"==this.prevState?"middle":this.prevState,l="bottom"===this.viewState$.value?n:"bottom";this.prevState=n,this.viewState$.next(l)}roomUsers(){return this.api.room.roomOtherUsers(this.roomId,this.user.id)}joinRoom(n){return Object(r.__awaiter)(this,void 0,void 0,(function*(){return yield this.api.room.joinRoom(this.roomId,n),n}))}setTitle(){return Object(r.__awaiter)(this,void 0,void 0,(function*(){this.title.icon$.next("group"),this.api.room.onRoomChange(this.roomId).pipe(Object(b.a)(this)).subscribe(n=>{if(n.name)this.title.text$.next(n.name);else{const l=n.users.map(n=>n.name).join(", ");this.title.text$.next(l)}})}))}compareOffers(n,l){if(n.length!==l.length)return console.log("Offers changed"),!1;for(const t of n)if(!l.find(n=>n.id==t.id&&n.description==t.description))return console.log("Offers changed"),!1;return!0}listenToOffers(){this.offers$.pipe(Dn(300),Object(qn.a)(this.compareOffers)).subscribe(n=>Object(r.__awaiter)(this,void 0,void 0,(function*(){n&&n.length&&(yield this.setStream(),this.roomUsers().pipe(Object(c.a)(),Object(b.a)(this)).subscribe(l=>this.connectionService.answerAll(n,l)))})))}listenToAnswers(){this.answers$.pipe(Dn(300),Object(qn.a)(this.compareOffers)).subscribe(n=>{n&&n.length&&this.roomUsers().pipe(Object(c.a)(),Object(b.a)(this)).subscribe(l=>this.connectionService.setRemoteAll(n,l))})}}return n.\u0275prov=e.bc({factory:function(){return new n(e.cc(w.p),e.cc(P.a),e.cc(k.a),e.cc(Vn),e.cc(En.a),e.cc(Kn),e.cc(Yn.a),e.cc(Jn),e.cc(Wn.b))},token:n,providedIn:"root"}),n})();var Hn=e.xb({encapsulation:0,styles:[[".buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-around}"]],data:{}});function nl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["sms"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function ll(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["chat"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function tl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["mic"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function el(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["mic_off"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function il(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["videocam"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function ol(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["videocam_off"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function al(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.flipCamera()&&e),e}),J.b,J.a)),e.yb(1,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.zb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(3,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["flip_camera_ios"]))],(function(n,l){n(l,3,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).disabled||null,"NoopAnimations"===e.Ob(l,1)._animationMode),n(l,2,0,e.Ob(l,3).inline,"primary"!==e.Ob(l,3).color&&"accent"!==e.Ob(l,3).color&&"warn"!==e.Ob(l,3).color)}))}function rl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,18,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,7,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleSound()&&e),e}),J.b,J.a)),e.yb(2,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.ib(16777216,null,0,2,null,tl)),e.yb(4,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,M.b,[e.h]),(n()(),e.ib(16777216,null,0,2,null,el)),e.yb(7,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,M.b,[e.h]),(n()(),e.zb(9,0,null,null,7,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleVideo()&&e),e}),J.b,J.a)),e.yb(10,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.ib(16777216,null,0,2,null,il)),e.yb(12,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,M.b,[e.h]),(n()(),e.ib(16777216,null,0,2,null,ol)),e.yb(15,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,M.b,[e.h]),(n()(),e.ib(16777216,null,null,1,null,al)),e.yb(18,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(0,null,null,0))],(function(n,l){var t=l.component;n(l,4,0,e.Yb(l,4,0,e.Ob(l,5).transform(t.isAudioOn$))),n(l,7,0,!e.Yb(l,7,0,e.Ob(l,8).transform(t.isAudioOn$))),n(l,12,0,e.Yb(l,12,0,e.Ob(l,13).transform(t.isVideoOn$))),n(l,15,0,!e.Yb(l,15,0,e.Ob(l,16).transform(t.isVideoOn$))),n(l,18,0,t.canFlipCamera)}),(function(n,l){n(l,1,0,e.Ob(l,2).disabled||null,"NoopAnimations"===e.Ob(l,2)._animationMode),n(l,9,0,e.Ob(l,10).disabled||null,"NoopAnimations"===e.Ob(l,10)._animationMode)}))}function ul(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,4,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.call()&&e),e}),J.b,J.a)),e.yb(2,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],{color:[0,"color"]},null),(n()(),e.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(4,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["call"]))],(function(n,l){n(l,2,0,"accent"),n(l,4,0)}),(function(n,l){n(l,1,0,e.Ob(l,2).disabled||null,"NoopAnimations"===e.Ob(l,2)._animationMode),n(l,3,0,e.Ob(l,4).inline,"primary"!==e.Ob(l,4).color&&"accent"!==e.Ob(l,4).color&&"warn"!==e.Ob(l,4).color)}))}function sl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["desktop_windows"]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function cl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(1,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,[" desktop_access_disabled "]))],(function(n,l){n(l,1,0)}),(function(n,l){n(l,0,0,e.Ob(l,1).inline,"primary"!==e.Ob(l,1).color&&"accent"!==e.Ob(l,1).color&&"warn"!==e.Ob(l,1).color)}))}function bl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,5,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleMediaType()&&e),e}),J.b,J.a)),e.yb(1,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.ib(16777216,null,0,1,null,sl)),e.yb(3,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,0,1,null,cl)),e.yb(5,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,3,0,"user"==t.room.mediaType),n(l,5,0,"display"==t.room.mediaType)}),(function(n,l){n(l,0,0,e.Ob(l,1).disabled||null,"NoopAnimations"===e.Ob(l,1)._animationMode)}))}function dl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.ib(16777216,null,null,1,null,bl)),e.yb(2,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(3,0,null,null,4,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.hangup()&&e),e}),J.b,J.a)),e.yb(4,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],{color:[0,"color"]},null),(n()(),e.zb(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(6,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["call_end"]))],(function(n,l){n(l,2,0,l.component.canShareScreen),n(l,4,0,"warn"),n(l,6,0)}),(function(n,l){n(l,3,0,e.Ob(l,4).disabled||null,"NoopAnimations"===e.Ob(l,4)._animationMode),n(l,5,0,e.Ob(l,6).inline,"primary"!==e.Ob(l,6).color&&"accent"!==e.Ob(l,6).color&&"warn"!==e.Ob(l,6).color)}))}function ml(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,12,"div",[["class","buttons-container"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,5,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.toggleBottom()&&e),e}),J.b,J.a)),e.yb(2,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.ib(16777216,null,0,1,null,nl)),e.yb(4,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,0,1,null,ll)),e.yb(6,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,rl)),e.yb(8,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,ul)),e.yb(10,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.ib(16777216,null,null,1,null,dl)),e.yb(12,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,4,0,"bottom"!=t.viewState),n(l,6,0,"bottom"==t.viewState),n(l,8,0,t.user.stream),n(l,10,0,!t.user.connections.length),n(l,12,0,t.user.connections.length)}),(function(n,l){n(l,1,0,e.Ob(l,2).disabled||null,"NoopAnimations"===e.Ob(l,2)._animationMode)}))}class pl{constructor(n,l,t,e){this.activeRoute=n,this.title=l,this.dialog=t,this.room=e,this.user$=this.room.user$,this.code$=this.room.code$,this.viewState$=this.room.viewState$,this.roomId=this.room.roomId}ngOnDestroy(){this.room.ngOnDestroy()}ngOnInit(){this.roomId=this.room.roomId=this.activeRoute.snapshot.paramMap.get("id"),this.room.ngOnInit(),this.title.click$.pipe(Object(b.a)(this)).subscribe(()=>{this.room.onlineUsers$.pipe(Object(c.a)()).subscribe(n=>this.dialog.open(a,{data:{users:n},width:"300px"}))})}sendText(n){this.room.transferText(n)}}var fl=t("iELJ"),hl=e.xb({encapsulation:0,styles:[[".room-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;background-color:#333;color:#fff}.room-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], .room-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .room-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{width:100%}.room-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-grow:0}.room-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}.room-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:60px;padding:10px;flex-grow:0;background-color:#222;display:flex;align-items:center;justify-content:space-around}"]],data:{}});function gl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,8,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,4,"app-videos-list",[["class","main-content"]],null,null,null,Cn,_n)),e.yb(2,114688,null,0,yn,[],{user:[0,"user"],viewState:[1,"viewState"]},null),e.Pb(131072,M.b,[e.h]),(n()(),e.zb(4,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),e.yb(5,212992,null,0,w.u,[w.b,e.Q,e.j,[8,null],e.h],null,null),(n()(),e.zb(6,0,null,null,2,"app-video-controls",[["class","footer"]],null,null,null,ml,Hn)),e.yb(7,114688,null,0,xn,[Zn],{user:[0,"user"],viewState:[1,"viewState"]},null),e.Pb(131072,M.b,[e.h])],(function(n,l){var t=l.component;n(l,2,0,l.context.ngIf,e.Yb(l,2,1,e.Ob(l,3).transform(t.viewState$))),n(l,5,0),n(l,7,0,l.context.ngIf,e.Yb(l,7,1,e.Ob(l,8).transform(t.viewState$)))}),null)}function vl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","room-container"]],null,null,null,null,null)),(n()(),e.ib(16777216,null,null,2,null,gl)),e.yb(2,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),e.Pb(131072,M.b,[e.h])],(function(n,l){var t=l.component;n(l,2,0,e.Yb(l,2,0,e.Ob(l,3).transform(t.user$)))}),null)}function Ol(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"app-room",[],null,null,null,vl,hl)),e.yb(1,245760,null,0,pl,[w.a,En.a,fl.e,Zn],null,null)],(function(n,l){n(l,1,0)}),null)}var yl=e.vb("app-room",pl,Ol,{},{},[]),_l=e.xb({encapsulation:0,styles:[[""]],data:{}});function wl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),e.yb(1,81920,null,0,fl.m,[[2,fl.l],e.l,fl.e],null,null),(n()(),e.Xb(2,null,["Call from ",""])),(n()(),e.zb(3,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),e.yb(4,16384,null,0,fl.f,[],null,null),(n()(),e.zb(5,0,null,null,3,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Ob(n,7).dialogRef.close(e.Ob(n,7).dialogResult)&&i),i}),J.b,J.a)),e.yb(6,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],{color:[0,"color"]},null),e.yb(7,606208,null,0,fl.g,[[2,fl.l],e.l,fl.e],{dialogResult:[0,"dialogResult"]},null),(n()(),e.Xb(-1,0,["Decline"])),(n()(),e.zb(9,0,null,null,3,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Ob(n,11).dialogRef.close(e.Ob(n,11).dialogResult)&&i),i}),J.b,J.a)),e.yb(10,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],{color:[0,"color"]},null),e.yb(11,606208,null,0,fl.g,[[2,fl.l],e.l,fl.e],{dialogResult:[0,"dialogResult"]},null),(n()(),e.Xb(-1,0,["Accept"]))],(function(n,l){n(l,1,0),n(l,6,0,"warn"),n(l,7,0,!1),n(l,10,0,"accent"),n(l,11,0,!0)}),(function(n,l){var t=l.component;n(l,0,0,e.Ob(l,1).id),n(l,2,0,t.data.from),n(l,5,0,e.Ob(l,6).disabled||null,"NoopAnimations"===e.Ob(l,6)._animationMode,e.Ob(l,7).ariaLabel||null,e.Ob(l,7).type),n(l,9,0,e.Ob(l,10).disabled||null,"NoopAnimations"===e.Ob(l,10)._animationMode,e.Ob(l,11).ariaLabel||null,e.Ob(l,11).type)}))}function Ml(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"app-call-dialog",[],null,null,null,wl,_l)),e.yb(1,114688,null,0,i,[fl.a],null,null)],(function(n,l){n(l,1,0)}),null)}var Cl=e.vb("app-call-dialog",i,Ml,{},{},[]),zl=t("IxSq"),xl=e.xb({encapsulation:0,styles:[[""]],data:{}});function Il(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),e.yb(1,81920,null,0,fl.m,[[2,fl.l],e.l,fl.e],null,null),(n()(),e.Xb(-1,null,["\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"])),(n()(),e.zb(3,0,null,null,3,"mat-dialog-content",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),e.yb(4,16384,null,0,fl.j,[],null,null),(n()(),e.zb(5,0,null,null,1,"app-user-list",[],null,null,null,zl.c,zl.a)),e.yb(6,49152,null,0,o.a,[k.a,P.a],{users:[0,"users"]},null),(n()(),e.zb(7,0,null,null,4,"mat-dialog-actions",[["align","end"],["class","mat-dialog-actions"]],null,null,null,null,null)),e.yb(8,16384,null,0,fl.f,[],null,null),(n()(),e.zb(9,0,null,null,2,"button",[["cdkFocusInitial",""],["class","mat-focus-indicator"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.dialogRef.close()&&e),e}),J.b,J.a)),e.yb(10,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],null,null),(n()(),e.Xb(-1,0,["Ok"]))],(function(n,l){var t=l.component;n(l,1,0),n(l,6,0,t.users)}),(function(n,l){n(l,0,0,e.Ob(l,1).id),n(l,9,0,e.Ob(l,10).disabled||null,"NoopAnimations"===e.Ob(l,10)._animationMode)}))}function Pl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"ng-component",[],null,null,null,Il,xl)),e.yb(1,49152,null,0,a,[fl.l,fl.a],null,null)],null,null)}var kl=e.vb("ng-component",a,Pl,{users:"users"},{},[]),Sl=t("Q2Ze"),jl=t("H3DK"),Tl=t("SCoL"),$l=t("e6WT"),Rl=t("8sFK"),Dl=e.xb({encapsulation:0,styles:[[""]],data:{}});function Xl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),e.yb(1,16384,[[6,4]],0,Sl.c,[],null,null),(n()(),e.Xb(-1,null,["\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0442\u044b\u043c"]))],null,(function(n,l){n(l,0,0,e.Ob(l,1).id)}))}function Al(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,41,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),e.yb(1,16384,null,0,fl.j,[],null,null),(n()(),e.zb(2,0,null,null,39,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var i=!0;return"submit"===l&&(i=!1!==e.Ob(n,4).onSubmit(t)&&i),"reset"===l&&(i=!1!==e.Ob(n,4).onReset()&&i),i}),null,null)),e.yb(3,16384,null,0,u.w,[],null,null),e.yb(4,4210688,null,0,u.o,[[8,null],[8,null]],null,null),e.Sb(2048,null,u.c,null,[u.o]),e.yb(6,16384,null,0,u.n,[[4,u.c]],null,null),(n()(),e.zb(7,0,null,null,4,"label",[["for","upload"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),e.yb(9,9158656,null,0,O.b,[e.l,O.d,[8,null],[2,O.a],[2,e.m]],null,null),(n()(),e.Xb(-1,0,["camera_alt"])),(n()(),e.zb(11,0,null,null,0,"input",[["accept","image/*"],["hidden",""],["id","upload"],["type","file"]],null,[[null,"change"]],(function(n,l,t){var e=!0;return"change"===l&&(e=!1!==n.component.uploadImage(t)&&e),e}),null,null)),(n()(),e.zb(12,0,null,null,26,"mat-form-field",[["class","name-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,jl.b,jl.a)),e.Sb(6144,null,Sl.a,null,[Sl.d]),e.yb(14,7520256,null,9,Sl.d,[e.l,e.h,[2,U.f],[2,q.b],[2,Sl.b],Tl.a,e.z,[2,L.a]],null,null),e.Tb(603979776,1,{_controlNonStatic:0}),e.Tb(335544320,2,{_controlStatic:0}),e.Tb(603979776,3,{_labelChildNonStatic:0}),e.Tb(335544320,4,{_labelChildStatic:0}),e.Tb(603979776,5,{_placeholderChild:0}),e.Tb(603979776,6,{_errorChildren:1}),e.Tb(603979776,7,{_hintChildren:1}),e.Tb(603979776,8,{_prefixChildren:1}),e.Tb(603979776,9,{_suffixChildren:1}),(n()(),e.zb(24,0,null,3,2,"mat-label",[],null,null,null,null,null)),e.yb(25,16384,[[3,4],[4,4]],0,Sl.g,[],null,null),(n()(),e.Xb(-1,null,["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b"])),(n()(),e.zb(27,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,l,t){var i=!0;return"input"===l&&(i=!1!==e.Ob(n,28)._handleInput(t.target.value)&&i),"blur"===l&&(i=!1!==e.Ob(n,28).onTouched()&&i),"compositionstart"===l&&(i=!1!==e.Ob(n,28)._compositionStart()&&i),"compositionend"===l&&(i=!1!==e.Ob(n,28)._compositionEnd(t.target.value)&&i),"blur"===l&&(i=!1!==e.Ob(n,35)._focusChanged(!1)&&i),"focus"===l&&(i=!1!==e.Ob(n,35)._focusChanged(!0)&&i),"input"===l&&(i=!1!==e.Ob(n,35)._onInput()&&i),i}),null,null)),e.yb(28,16384,null,0,u.d,[e.E,e.l,[2,u.a]],null,null),e.yb(29,16384,null,0,u.r,[],{required:[0,"required"]},null),e.Sb(1024,null,u.j,(function(n){return[n]}),[u.r]),e.Sb(1024,null,u.k,(function(n){return[n]}),[u.d]),e.yb(32,540672,null,0,u.g,[[6,u.j],[8,null],[6,u.k],[2,u.v]],{form:[0,"form"]},null),e.Sb(2048,null,u.l,null,[u.g]),e.yb(34,16384,null,0,u.m,[[4,u.l]],null,null),e.yb(35,999424,null,0,$l.a,[e.l,Tl.a,[6,u.l],[2,u.o],[2,u.h],U.b,[8,null],Rl.a,e.z],{required:[0,"required"]},null),e.Sb(2048,[[1,4],[2,4]],Sl.e,null,[$l.a]),(n()(),e.ib(16777216,null,5,1,null,Xl)),e.yb(38,16384,null,0,M.m,[e.Q,e.M],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(39,0,null,null,2,"button",[["class","mat-focus-indicator"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.create()&&e),e}),J.b,J.a)),e.yb(40,180224,null,0,W.b,[e.l,Q.c,[2,L.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),e.Xb(-1,0,[" \u0421\u043e\u0437\u0434\u0430\u0442\u044c "]))],(function(n,l){var t=l.component;n(l,9,0),n(l,29,0,""),n(l,32,0,t.name),n(l,35,0,""),n(l,38,0,t.name.invalid),n(l,40,0,t.name.invalid,"primary")}),(function(n,l){n(l,2,0,e.Ob(l,6).ngClassUntouched,e.Ob(l,6).ngClassTouched,e.Ob(l,6).ngClassPristine,e.Ob(l,6).ngClassDirty,e.Ob(l,6).ngClassValid,e.Ob(l,6).ngClassInvalid,e.Ob(l,6).ngClassPending),n(l,8,0,e.Ob(l,9).inline,"primary"!==e.Ob(l,9).color&&"accent"!==e.Ob(l,9).color&&"warn"!==e.Ob(l,9).color),n(l,12,1,["standard"==e.Ob(l,14).appearance,"fill"==e.Ob(l,14).appearance,"outline"==e.Ob(l,14).appearance,"legacy"==e.Ob(l,14).appearance,e.Ob(l,14)._control.errorState,e.Ob(l,14)._canLabelFloat,e.Ob(l,14)._shouldLabelFloat(),e.Ob(l,14)._hasFloatingLabel(),e.Ob(l,14)._hideControlPlaceholder(),e.Ob(l,14)._control.disabled,e.Ob(l,14)._control.autofilled,e.Ob(l,14)._control.focused,"accent"==e.Ob(l,14).color,"warn"==e.Ob(l,14).color,e.Ob(l,14)._shouldForward("untouched"),e.Ob(l,14)._shouldForward("touched"),e.Ob(l,14)._shouldForward("pristine"),e.Ob(l,14)._shouldForward("dirty"),e.Ob(l,14)._shouldForward("valid"),e.Ob(l,14)._shouldForward("invalid"),e.Ob(l,14)._shouldForward("pending"),!e.Ob(l,14)._animationsEnabled]),n(l,27,1,[e.Ob(l,29).required?"":null,e.Ob(l,34).ngClassUntouched,e.Ob(l,34).ngClassTouched,e.Ob(l,34).ngClassPristine,e.Ob(l,34).ngClassDirty,e.Ob(l,34).ngClassValid,e.Ob(l,34).ngClassInvalid,e.Ob(l,34).ngClassPending,e.Ob(l,35)._isServer,e.Ob(l,35).id,e.Ob(l,35).placeholder,e.Ob(l,35).disabled,e.Ob(l,35).required,e.Ob(l,35).readonly&&!e.Ob(l,35)._isNativeSelect||null,e.Ob(l,35)._ariaDescribedby||null,e.Ob(l,35).errorState,e.Ob(l,35).required.toString()]),n(l,39,0,e.Ob(l,40).disabled||null,"NoopAnimations"===e.Ob(l,40)._animationMode)}))}function Fl(n){return e.ac(0,[(n()(),e.zb(0,0,null,null,1,"ng-component",[],null,null,null,Al,Dl)),e.yb(1,245760,null,0,m,[w.p,P.a,k.a,d.b],null,null)],(function(n,l){n(l,1,0)}),null)}var ql=e.vb("ng-component",m,Fl,{},{},[]),Ul=t("9b/N"),Ql=t("1O3W"),Ll=t("rJgo"),Nl=t("wD+u"),Vl=t("jmUF"),El=t("VRCc"),Gl=t("fMxG"),Bl=t("TfjI"),Yl=t("8Qe2"),Kl=t("PDjf"),Jl=t("f44v"),Wl=t("1z/I"),Zl=t("7KAL"),Hl=t("GF+f"),nt=t("o4Yh"),lt=t("pu8Q"),tt=t("q7Ft"),et=t("mPVK"),it=t("jMqV"),ot=t("l0rg"),at=t("Yobz"),rt=t("ab3D"),ut=t("PCNd"),st=t("SIrD");const ct=()=>Promise.all([t.e(0),t.e(11)]).then(t.bind(null,"tSmu")).then(n=>n.ChatModuleNgFactory),bt=()=>Promise.all([t.e(0),t.e(10)]).then(t.bind(null,"oF8/")).then(n=>n.BuraModuleNgFactory);class dt{}var mt=t("Ht+U");t.d(l,"VideoChatModuleNgFactory",(function(){return pt}));var pt=e.wb(p,[],(function(n){return e.Lb([e.Mb(512,e.j,e.ab,[[8,[f.a,h.a,h.b,g.a,A,K,yl,Cl,zl.b,kl,ql]],[3,e.j],e.x]),e.Mb(4608,M.o,M.n,[e.u]),e.Mb(4608,u.u,u.u,[]),e.Mb(4608,u.e,u.e,[]),e.Mb(4608,Ul.c,Ul.c,[]),e.Mb(4608,U.b,U.b,[]),e.Mb(4608,Ql.a,Ql.a,[Ql.g,Ql.c,e.j,Ql.f,Ql.d,e.r,e.z,M.d,q.b,[2,M.i]]),e.Mb(5120,Ql.h,Ql.i,[Ql.a]),e.Mb(5120,fl.c,fl.d,[Ql.a]),e.Mb(135680,fl.e,fl.e,[Ql.a,e.r,[2,M.i],[2,fl.b],fl.c,[3,fl.e],Ql.c]),e.Mb(5120,Ll.c,Ll.j,[Ql.a]),e.Mb(4608,Nl.a,Nl.a,[Vl.c,[2,Vl.b],[2,Nl.c],[2,Nl.e],e.B,e.z,[2,Nl.d]]),e.Mb(4608,El.a,El.a,[Vl.c,[2,Vl.b],e.B,e.z]),e.Mb(4608,Gl.a,Gl.a,[Vl.c,[2,Vl.b],[2,Gl.c],e.B,e.z]),e.Mb(4608,Bl.a,Bl.a,[Vl.c,[2,Vl.b],e.B,e.z]),e.Mb(5120,Vl.d,Vl.f,[Vl.c,e.z,[2,Vl.b]]),e.Mb(1073742336,M.c,M.c,[]),e.Mb(1073742336,u.t,u.t,[]),e.Mb(1073742336,u.i,u.i,[]),e.Mb(1073742336,u.q,u.q,[]),e.Mb(1073742336,Tl.b,Tl.b,[]),e.Mb(1073742336,Ul.d,Ul.d,[]),e.Mb(1073742336,Q.a,Q.a,[Q.e]),e.Mb(1073742336,q.a,q.a,[]),e.Mb(1073742336,U.j,U.j,[Q.e,[2,U.c],[2,M.d]]),e.Mb(1073742336,Yl.a,Yl.a,[]),e.Mb(1073742336,U.s,U.s,[]),e.Mb(1073742336,W.c,W.c,[]),e.Mb(1073742336,Kl.f,Kl.f,[]),e.Mb(1073742336,Jl.d,Jl.d,[]),e.Mb(1073742336,Wl.f,Wl.f,[]),e.Mb(1073742336,Zl.c,Zl.c,[]),e.Mb(1073742336,Ql.e,Ql.e,[]),e.Mb(1073742336,fl.k,fl.k,[]),e.Mb(1073742336,z.b,z.b,[]),e.Mb(1073742336,Hl.c,Hl.c,[]),e.Mb(1073742336,nt.c,nt.c,[]),e.Mb(1073742336,Sl.f,Sl.f,[]),e.Mb(1073742336,O.c,O.c,[]),e.Mb(1073742336,Rl.c,Rl.c,[]),e.Mb(1073742336,$l.b,$l.b,[]),e.Mb(1073742336,U.k,U.k,[]),e.Mb(1073742336,U.q,U.q,[]),e.Mb(1073742336,_.c,_.c,[]),e.Mb(1073742336,Ll.i,Ll.i,[]),e.Mb(1073742336,Ll.f,Ll.f,[]),e.Mb(1073742336,F.c,F.c,[]),e.Mb(1073742336,lt.a,lt.a,[]),e.Mb(1073742336,tt.h,tt.h,[]),e.Mb(1073742336,et.a,et.a,[]),e.Mb(1073742336,it.d,it.d,[]),e.Mb(1073742336,it.c,it.c,[]),e.Mb(1073742336,Wn.e,Wn.e,[]),e.Mb(1073742336,ot.b,ot.b,[]),e.Mb(1073742336,at.a,at.a,[]),e.Mb(1073742336,Nl.b,Nl.b,[]),e.Mb(1073742336,El.b,El.b,[]),e.Mb(1073742336,Gl.b,Gl.b,[]),e.Mb(1073742336,Bl.b,Bl.b,[]),e.Mb(1073742336,Vl.a,Vl.a,[e.B]),e.Mb(1073742336,rt.a,rt.a,[]),e.Mb(1073742336,ut.a,ut.a,[]),e.Mb(1073742336,w.t,w.t,[[2,w.z],[2,w.p]]),e.Mb(1073742336,st.a,st.a,[]),e.Mb(1073742336,dt,dt,[]),e.Mb(1073742336,p,p,[]),e.Mb(256,Jl.a,{separatorKeyCodes:[mt.f]},[]),e.Mb(256,Vl.c,{apiKey:"AIzaSyB8OELF8OtaSi-hF8rJm3lzgBn5GOI6Yeo",authDomain:"uno-server-3000.firebaseapp.com",databaseURL:"https://uno-server-3000.firebaseio.com",projectId:"uno-server-3000",storageBucket:"uno-server-3000.appspot.com",messagingSenderId:"460750590702",appId:"1:460750590702:web:e38380af9f7ff3e2a699ff",measurementId:"G-1D1LTS2GWF"},[]),e.Mb(256,Vl.b,void 0,[]),e.Mb(1024,w.m,(function(){return[[{path:"",redirectTo:"rooms",pathMatch:"full"},{path:"rooms",component:I},{path:"room/create",component:E},{path:"room/:id",component:pl,children:[{path:"",redirectTo:"messages",pathMatch:"full"},{path:"messages",loadChildren:ct},{path:"game",loadChildren:bt}]}]]}),[])])}))}}]);