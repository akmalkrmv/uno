function _createForOfIteratorHelper(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=_unsupportedIterableToArray(n))){var e=0,l=function(){};return{s:l,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var t,i,o=!0,a=!1;return{s:function(){t=n[Symbol.iterator]()},n:function(){var n=t.next();return o=n.done,n},e:function(n){a=!0,i=n},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(n,e){if(n){if("string"==typeof n)return _arrayLikeToArray(n,e);var l=Object.prototype.toString.call(n).slice(8,-1);return"Object"===l&&n.constructor&&(l=n.constructor.name),"Map"===l||"Set"===l?Array.from(l):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(null==e||e>n.length)&&(e=n.length);for(var l=0,t=new Array(e);l<e;l++)t[l]=n[l];return t}function _createSuper(n){return function(){var e,l=_getPrototypeOf(n);if(_isNativeReflectConstruct()){var t=_getPrototypeOf(this).constructor;e=Reflect.construct(l,arguments,t)}else e=l.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(n):e}function _assertThisInitialized(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function _getPrototypeOf(n){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function _inherits(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&_setPrototypeOf(n,e)}function _setPrototypeOf(n,e){return(_setPrototypeOf=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,l){return e&&_defineProperties(n.prototype,e),l&&_defineProperties(n,l),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"Fe+7":function(n,e,l){"use strict";l.r(e);var t=l("8Y7J"),i=function(){function n(e){_classCallCheck(this,n),this.data=e}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),o=l("mWqA"),a=function n(e,l){_classCallCheck(this,n),this.dialogRef=e,this.data=l,this.users=[],l&&l.users&&(this.users=l.users)},r=l("mrSG"),u=l("s7LF"),c=l("eIep"),s=l("SxV6"),b=l("DnKK"),d=l("jT/F"),m=function(){function n(e,l,t,i){_classCallCheck(this,n),this.router=e,this.api=l,this.auth=t,this.fileUpload=i,this.name=new u.f("",[u.s.required])}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}},{key:"create",value:function(){var n=this,e={name:this.name.value};this.photoURL&&(e.photoURL=this.photoURL),this.auth.authorized$.pipe(Object(c.a)((function(l){return n.api.room.createRoom(l,e)}))).pipe(Object(s.a)(),Object(b.a)(this)).subscribe((function(e){return n.router.navigate(["/room/".concat(e)])}))}},{key:"uploadImage",value:function(n){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var l,t,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=n.target).files||!l.files.length){e.next=7;break}return t=new d.a(l.files[0]),e.next=5,this.fileUpload.upload(t);case 5:i=e.sent,this.photoURL=i.url;case 7:case"end":return e.stop()}}),e,this)})))}}]),n}(),f=function n(){_classCallCheck(this,n)},p=l("9cE2"),h=l("007U"),g=l("pMnS"),v=l("XE/z"),O=l("Tj54"),y=l("F9ui"),_=l("SqCe"),w=l("iInd"),C=l("SVse"),k=l("mGvx"),M=l("BSbQ"),x=l("lJxs"),z=function(){function n(e,l,t){_classCallCheck(this,n),this.api=e,this.auth=l,this.createRoom=t}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;this.rooms$=this.auth.authorized$.pipe(Object(c.a)((function(e){return n.api.room.userRooms(e.id)})),Object(x.a)((function(n){return n.map((function(n){return Object.assign(Object.assign({},n),{name:n.name||n.users.map((function(n){return n.name})).join(", ")})}))})))}},{key:"create",value:function(){this.createRoom.create()}}]),n}(),I=l("Ngqg"),P=l("lGQG"),S=l("+/jX"),R=t.xb({encapsulation:0,styles:[[".profile-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.profile-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:10px;color:#333;background-color:#ddd;background-size:cover;border-radius:100%;position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center}.profile-container[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]   .profile-img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%}.profile-container[_ngcontent-%COMP%]   .profile-data__primary[_ngcontent-%COMP%]{font-size:1em}.profile-container[_ngcontent-%COMP%]   .profile-data__secondary[_ngcontent-%COMP%]{font-size:.8em;color:#ccc}"]],data:{}});function j(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,0,"img",[["class","profile-img"]],[[8,"src",4]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.parent.context.$implicit.photoURL)}))}function T(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["groups"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function $(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,19,null,null,null,null,null,null,null)),(n()(),t.zb(1,0,null,null,16,"a",[["class","profile-container mat-list-item mat-focus-indicator"],["mat-list-item",""]],[[2,"mat-list-item-disabled",null],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null],[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,e,l){var i=!0;return"click"===e&&(i=!1!==t.Ob(n,6).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i}),y.c,y.a)),t.yb(2,1228800,null,3,_.b,[t.l,t.h,[2,_.e],[2,_.a]],null,null),t.Tb(603979776,4,{_lines:1}),t.Tb(603979776,5,{_avatar:0}),t.Tb(603979776,6,{_icon:0}),t.yb(6,671744,null,0,w.s,[w.p,w.a,C.j],{routerLink:[0,"routerLink"]},null),(n()(),t.zb(7,0,null,2,4,"div",[["class","profile-avatar"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,j)),t.yb(9,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,T)),t.yb(11,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.zb(12,0,null,2,5,"div",[["class","profile-data"]],null,null,null,null,null)),(n()(),t.zb(13,0,null,null,1,"div",[["class","profile-data__primary"]],null,null,null,null,null)),(n()(),t.Xb(14,null,["",""])),(n()(),t.zb(15,0,null,null,2,"div",[["class","profile-data__secondary"]],null,null,null,null,null)),(n()(),t.zb(16,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Xb(17,null,["",""])),(n()(),t.zb(18,0,null,null,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,k.b,k.a)),t.yb(19,49152,null,0,M.a,[],null,null)],(function(n,e){n(e,6,0,t.Gb(1,"/room/",e.context.$implicit.id,"")),n(e,9,0,e.context.$implicit.photoURL),n(e,11,0,!e.context.$implicit.photoURL)}),(function(n,e){n(e,1,0,t.Ob(e,2).disabled,t.Ob(e,2)._avatar||t.Ob(e,2)._icon,t.Ob(e,2)._avatar||t.Ob(e,2)._icon,t.Ob(e,6).target,t.Ob(e,6).href),n(e,14,0,e.context.$implicit.name),n(e,17,0,e.context.$implicit.lastMessage),n(e,18,0,t.Ob(e,19).vertical?"vertical":"horizontal",t.Ob(e,19).vertical,!t.Ob(e,19).vertical,t.Ob(e,19).inset)}))}function D(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,18,"mat-nav-list",[["class","room-list wide-list mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,y.d,y.b)),t.yb(1,704512,null,0,_.e,[],null,null),(n()(),t.zb(2,0,null,0,11,"a",[["class","profile-container mat-list-item mat-focus-indicator"],["mat-list-item",""]],[[2,"mat-list-item-disabled",null],[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.create()&&t),t}),y.c,y.a)),t.yb(3,1228800,null,3,_.b,[t.l,t.h,[2,_.e],[2,_.a]],null,null),t.Tb(603979776,1,{_lines:1}),t.Tb(603979776,2,{_avatar:0}),t.Tb(603979776,3,{_icon:0}),(n()(),t.zb(7,0,null,2,3,"div",[["class","profile-avatar"]],null,null,null,null,null)),(n()(),t.zb(8,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(9,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["group_add"])),(n()(),t.zb(11,0,null,2,2,"div",[["class","profile-data"]],null,null,null,null,null)),(n()(),t.zb(12,0,null,null,1,"div",[["class","profile-data__primary"]],null,null,null,null,null)),(n()(),t.Xb(-1,null,["+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443"])),(n()(),t.zb(14,0,null,0,1,"mat-divider",[["class","mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,k.b,k.a)),t.yb(15,49152,null,0,M.a,[],null,null),(n()(),t.ib(16777216,null,0,2,null,$)),t.yb(17,278528,null,0,C.l,[t.Q,t.M,t.s],{ngForOf:[0,"ngForOf"]},null),t.Pb(131072,C.b,[t.h])],(function(n,e){var l=e.component;n(e,9,0),n(e,17,0,t.Yb(e,17,0,t.Ob(e,18).transform(l.rooms$)))}),(function(n,e){n(e,2,0,t.Ob(e,3).disabled,t.Ob(e,3)._avatar||t.Ob(e,3)._icon,t.Ob(e,3)._avatar||t.Ob(e,3)._icon),n(e,8,0,t.Ob(e,9).inline,"primary"!==t.Ob(e,9).color&&"accent"!==t.Ob(e,9).color&&"warn"!==t.Ob(e,9).color),n(e,14,0,t.Ob(e,15).vertical?"vertical":"horizontal",t.Ob(e,15).vertical,!t.Ob(e,15).vertical,t.Ob(e,15).inset)}))}var X=t.vb("app-room-list",z,(function(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"app-room-list",[],null,null,null,D,R)),t.yb(1,114688,null,0,z,[I.a,P.a,S.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),A=l("BTe0"),F=l("9gLZ"),q=l("UhP/"),L=l("YEUz"),U=l("omvX"),Q=t.xb({encapsulation:2,styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],data:{}});function N(n){return t.ac(2,[t.Tb(671088640,1,{_primaryValueBar:0}),(n()(),t.zb(1,0,null,null,4,":svg:svg",[["class","mat-progress-bar-background mat-progress-bar-element"],["focusable","false"],["height","4"],["width","100%"]],null,null,null,null,null)),(n()(),t.zb(2,0,null,null,2,":svg:defs",[],null,null,null,null,null)),(n()(),t.zb(3,0,null,null,1,":svg:pattern",[["height","4"],["patternUnits","userSpaceOnUse"],["width","8"],["x","4"],["y","0"]],[[8,"id",0]],null,null,null,null)),(n()(),t.zb(4,0,null,null,0,":svg:circle",[["cx","2"],["cy","2"],["r","2"]],null,null,null,null,null)),(n()(),t.zb(5,0,null,null,0,":svg:rect",[["height","100%"],["width","100%"]],[[1,"fill",0]],null,null,null,null)),(n()(),t.zb(6,0,null,null,1,"div",[["class","mat-progress-bar-buffer mat-progress-bar-element"]],null,null,null,null,null)),t.yb(7,278528,null,0,C.p,[t.l,t.t,t.E],{ngStyle:[0,"ngStyle"]},null),(n()(),t.zb(8,0,[[1,0],["primaryValueBar",1]],null,1,"div",[["class","mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null)),t.yb(9,278528,null,0,C.p,[t.l,t.t,t.E],{ngStyle:[0,"ngStyle"]},null),(n()(),t.zb(10,0,null,null,0,"div",[["class","mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element"]],null,null,null,null,null))],(function(n,e){var l=e.component;n(e,7,0,l._bufferTransform()),n(e,9,0,l._primaryTransform())}),(function(n,e){var l=e.component;n(e,3,0,l.progressbarId),n(e,5,0,l._rectangleFillValue)}))}var E=function(){function n(e){_classCallCheck(this,n),this.room=e}return _createClass(n,[{key:"ngOnInit",value:function(){this.room.create()}}]),n}(),V=t.xb({encapsulation:0,styles:[[".create-room-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}"]],data:{}});function G(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,4,"div",[["class","create-room-page"]],null,null,null,null,null)),(n()(),t.zb(1,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","mat-progress-bar"],["mode","query"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,N,Q)),t.yb(2,4374528,null,0,A.b,[t.l,t.z,[2,U.a],[2,A.a]],{mode:[0,"mode"]},null),(n()(),t.zb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),t.Xb(-1,null,["\u0421\u043e\u0437\u0434\u0435\u043c \u043a\u043e\u043c\u043d\u0430\u0442\u0443..."]))],(function(n,e){n(e,2,0,"query")}),(function(n,e){n(e,1,0,"indeterminate"===t.Ob(e,2).mode||"query"===t.Ob(e,2).mode?null:t.Ob(e,2).value,t.Ob(e,2).mode,t.Ob(e,2)._isNoopAnimation)}))}var B=t.vb("ng-component",E,(function(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,G,V)),t.yb(1,114688,null,0,E,[S.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),Y=l("1Xc+"),K=l("Dxy4"),J=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"pictureInPictureEnabled",value:function(){return"pictureInPictureEnabled"in document}},{key:"fullscreen",value:function(){var n=this.videoRef.nativeElement;n.requestFullscreen&&n.requestFullscreen().catch((function(n){return console.log(n)}))}},{key:"pictureInPicture",value:function(){var n=this.videoRef.nativeElement;n.requestPictureInPicture&&n.requestPictureInPicture().catch((function(n){return console.log(n)}))}}]),n}(),H=t.xb({encapsulation:0,styles:[[".flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.video-wrapper[_ngcontent-%COMP%]{position:relative}.video-wrapper[_ngcontent-%COMP%], .video-wrapper[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:flex-end;justify-content:space-between}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{opacity:.8;padding:1px 5px;border:1px solid hsla(0,0%,100%,.8);background-color:rgba(34,34,34,.4)}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .stream-controls[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{max-width:100%;height:100px}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;font-size:3em}"]],data:{}});function W(n){return t.ac(0,[(n()(),t.zb(0,0,[[1,0],["video",1]],null,0,"video",[["autoplay",""],["class","video"],["muted",""]],[[8,"srcObject",0]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.component.connection.stream)}))}function Z(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Xb(1,null,[" "," "]))],null,(function(n,e){n(e,1,0,e.component.connection.userName[0].toUpperCase())}))}function nn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,3,"div",[["class","profile-info flex-center"]],null,null,null,null,null)),(n()(),t.zb(1,0,null,null,2,"div",[["class","profile-name flex-center"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,Z)),t.yb(3,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,3,0,e.component.connection.userName)}),null)}function en(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.pictureInPicture()&&t),t}),Y.b,Y.a)),t.yb(1,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.zb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(3,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["picture_in_picture"]))],(function(n,e){n(e,3,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).disabled||null,"NoopAnimations"===t.Ob(e,1)._animationMode),n(e,2,0,t.Ob(e,3).inline,"primary"!==t.Ob(e,3).color&&"accent"!==t.Ob(e,3).color&&"warn"!==t.Ob(e,3).color)}))}function ln(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,7,"div",[["class","stream-controls"]],null,null,null,null,null)),(n()(),t.zb(1,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.fullscreen()&&t),t}),Y.b,Y.a)),t.yb(2,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(4,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["fullscreen"])),(n()(),t.ib(16777216,null,null,1,null,en)),t.yb(7,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var l=e.component;n(e,4,0),n(e,7,0,l.pictureInPictureEnabled)}),(function(n,e){n(e,1,0,t.Ob(e,2).disabled||null,"NoopAnimations"===t.Ob(e,2)._animationMode),n(e,3,0,t.Ob(e,4).inline,"primary"!==t.Ob(e,4).color&&"accent"!==t.Ob(e,4).color&&"warn"!==t.Ob(e,4).color)}))}function tn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"mat-progress-bar",[["aria-valuemax","100"],["aria-valuemin","0"],["class","progress-bar-inverse mat-progress-bar"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0],[2,"_mat-animation-noopable",null]],null,null,N,Q)),t.yb(1,4374528,null,0,A.b,[t.l,t.z,[2,U.a],[2,A.a]],{mode:[0,"mode"]},null)],(function(n,e){n(e,1,0,"indeterminate")}),(function(n,e){n(e,0,0,"indeterminate"===t.Ob(e,1).mode||"query"===t.Ob(e,1).mode?null:t.Ob(e,1).value,t.Ob(e,1).mode,t.Ob(e,1)._isNoopAnimation)}))}function on(n){return t.ac(0,[t.Tb(671088640,1,{videoRef:0}),(n()(),t.zb(1,0,null,null,12,"div",[["class","video-wrapper flex-center"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,W)),t.yb(3,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,nn)),t.yb(5,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.zb(6,0,null,null,7,"div",[["class","video-cover"]],null,null,null,null,null)),(n()(),t.zb(7,0,null,null,4,"div",[["class","info-block"]],null,null,null,null,null)),(n()(),t.zb(8,0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(n()(),t.Xb(9,null,[" "," "])),(n()(),t.ib(16777216,null,null,1,null,ln)),t.yb(11,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,tn)),t.yb(13,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var l=e.component;n(e,3,0,l.connection.stream),n(e,5,0,!l.connection.stream),n(e,11,0,l.connection.stream),n(e,13,0,!l.connection.isConnectedOrConnecting)}),(function(n,e){n(e,9,0,e.component.connection.userName)}))}var an=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}}]),n}(),rn=t.xb({encapsulation:0,styles:[[".flex-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.video-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.video-wrapper[_ngcontent-%COMP%]   .mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.video-wrapper[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .video-cover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:flex-end;justify-content:flex-start}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{width:100%;height:100%}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{max-width:100%;height:100px}.video-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{width:100%;height:100%;color:#fff;font-size:3em}.video-wrapper[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{opacity:.8;padding:1px 5px;border:1px solid hsla(0,0%,100%,.8);background-color:rgba(34,34,34,.4)}"]],data:{}});function un(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,0,"video",[["autoplay",""],["class","video"],["id","self-video"],["muted",""]],[[8,"srcObject",0],[2,"mirrored",null]],null,null,null,null))],null,(function(n,e){var l=e.component;n(e,0,0,l.user.stream,l.user.isFrontCamera)}))}function cn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,0,"img",[["class","profile-pic"]],[[8,"src",4]],null,null,null,null))],null,(function(n,e){n(e,0,0,e.component.user.photoURL)}))}function sn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),t.Xb(1,null,["",""]))],null,(function(n,e){n(e,1,0,e.component.user.name[0].toUpperCase())}))}function bn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"div",[["class","profile-name flex-center"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,sn)),t.yb(2,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){n(e,2,0,e.component.user.name)}),null)}function dn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,4,"div",[["class","profile-info flex-center"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,cn)),t.yb(2,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,bn)),t.yb(4,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var l=e.component;n(e,2,0,l.user.photoURL),n(e,4,0,!l.user.photoURL)}),null)}function mn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,8,"div",[["class","video-wrapper flex-center"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,un)),t.yb(2,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,dn)),t.yb(4,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.zb(5,0,null,null,3,"div",[["class","video-cover flex-center"]],null,null,null,null,null)),(n()(),t.zb(6,0,null,null,1,"div",[["class","user-name"]],null,null,null,null,null)),(n()(),t.Xb(7,null,["",""])),(n()(),t.zb(8,0,null,null,0,"div",[["class","video-controls flex-center"]],null,null,null,null,null))],(function(n,e){var l=e.component;n(e,2,0,l.user.stream),n(e,4,0,!l.user.stream)}),(function(n,e){n(e,7,0,e.component.user.name)}))}var fn=l("ixTe"),pn=t.xb({encapsulation:0,styles:[[".viewport[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:hidden;overscroll-behavior:none;display:flex}.viewport.vertical[_ngcontent-%COMP%]{flex-direction:column}.viewport.vertical[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:0;width:100%}.viewport.horizontal[_ngcontent-%COMP%]{flex-direction:row}.viewport.horizontal[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:100%;width:0}.viewport.horizontal[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.viewport.animate[_ngcontent-%COMP%]   .bottom-pane[_ngcontent-%COMP%], .viewport.animate[_ngcontent-%COMP%]   .top-pane[_ngcontent-%COMP%]{transition:all .3s ease}.viewport[_ngcontent-%COMP%]   .top-pane[_ngcontent-%COMP%]{flex-wrap:wrap;flex-grow:0;height:100%;width:100%;overflow:auto}.viewport[_ngcontent-%COMP%]   .bottom-pane[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.viewport[_ngcontent-%COMP%]   .pane-content[_ngcontent-%COMP%]{height:100%}.viewport[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.viewport[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:fixed;z-index:1000;cursor:-webkit-grab;cursor:grab}"]],data:{}});function hn(n){return t.ac(2,[t.Tb(671088640,1,{viewportRef:0}),t.Tb(671088640,2,{topPaneRef:0}),t.Tb(671088640,3,{dividerRef:0}),t.Tb(671088640,4,{bottomPaneRef:0}),t.Tb(671088640,5,{handleRef:0}),(n()(),t.zb(5,0,[[1,0],["viewport",1]],null,10,"div",[],[[8,"className",0],[2,"animate",null]],null,null,null,null)),(n()(),t.zb(6,0,[[2,0],["topPane",1]],null,1,"div",[["class","top-pane"]],null,null,null,null,null)),t.Nb(null,0),(n()(),t.zb(8,0,[[3,0],["divider",1]],null,5,"div",[["class","divider"]],null,null,null,null,null)),(n()(),t.zb(9,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],null,null,Y.b,Y.a)),t.yb(10,180224,[[5,4],["handle",4]],0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.zb(11,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(12,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["drag_handle"])),(n()(),t.zb(14,0,[[4,0],["bottomPane",1]],null,1,"div",[["class","bottom-pane"]],null,null,null,null,null)),t.Nb(null,1)],(function(n,e){n(e,12,0)}),(function(n,e){var l=e.component;n(e,5,0,t.Gb(1,"viewport ",l.orientation,""),!l.isDragging),n(e,9,0,t.Ob(e,10).disabled||null,"NoopAnimations"===t.Ob(e,10)._animationMode),n(e,11,0,t.Ob(e,12).inline,"primary"!==t.Ob(e,12).color&&"accent"!==t.Ob(e,12).color&&"warn"!==t.Ob(e,12).color)}))}var gn=l("4Fe3"),vn=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"connectionCount",get:function(){return this.user&&this.user.connections?this.user.connections.length:0}}]),n}(),On=t.xb({encapsulation:0,styles:[[".viewport[_ngcontent-%COMP%]{width:100%;position:relative;flex-direction:column}.videos[_ngcontent-%COMP%], .viewport[_ngcontent-%COMP%]{height:100%;overflow:hidden;display:flex}.videos[_ngcontent-%COMP%]{flex-grow:0;flex-wrap:wrap;align-items:stretch}.videos[_ngcontent-%COMP%]   .video-container[_ngcontent-%COMP%]{max-height:100%;flex-grow:1;flex-basis:0;border:1px solid #222}.content-wapper[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;background-size:cover;background-repeat:no-repeat;background-position:50%;background-position-y:bottom}.content[_ngcontent-%COMP%]{height:100%}"]],data:{}});function yn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),t.zb(1,0,null,null,1,"app-video-item",[],[[8,"className",0]],null,null,on,H)),t.yb(2,114688,null,0,J,[],{connection:[0,"connection"]},null)],(function(n,e){n(e,2,0,e.context.$implicit)}),(function(n,e){n(e,1,0,t.Gb(1,"video-container video-container-",e.component.connectionCount,""))}))}function _n(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),t.zb(1,0,null,null,1,"app-self-video",[],[[8,"className",0]],null,null,mn,rn)),t.yb(2,114688,null,0,an,[],{user:[0,"user"]},null),(n()(),t.ib(16777216,null,null,1,null,yn)),t.yb(4,278528,null,0,C.l,[t.Q,t.M,t.s],{ngForOf:[0,"ngForOf"]},null),(n()(),t.ib(0,null,null,0))],(function(n,e){var l=e.component;n(e,2,0,l.user),n(e,4,0,l.user.connections)}),(function(n,e){n(e,1,0,t.Gb(1,"video-container video-container-",e.component.connectionCount,""))}))}function wn(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,7,"app-resizable-panes",[],null,[["window","resize"],["window","orientationchange"],["document","mouseup"],["document","touchend"],["document","touchcancel"],["document","mousemove"],["document","touchmove"]],(function(n,e,l){var i=!0;return"window:resize"===e&&(i=!1!==t.Ob(n,1).setOrientation()&&i),"window:orientationchange"===e&&(i=!1!==t.Ob(n,1).setOrientation()&&i),"document:mouseup"===e&&(i=!1!==t.Ob(n,1).stopDrag()&&i),"document:touchend"===e&&(i=!1!==t.Ob(n,1).stopDrag()&&i),"document:touchcancel"===e&&(i=!1!==t.Ob(n,1).stopDrag()&&i),"document:mousemove"===e&&(i=!1!==t.Ob(n,1).drag(l)&&i),"document:touchmove"===e&&(i=!1!==t.Ob(n,1).drag(l)&&i),i}),hn,pn)),t.yb(1,4767744,null,0,fn.a,[t.h],{state:[0,"state"],autorotate:[1,"autorotate"]},null),(n()(),t.zb(2,0,null,0,3,"div",[["appOrientation",""],["class","videos"],["top-pane",""]],null,[["window","resize"],["window","orientationchange"]],(function(n,e,l){var i=!0;return"window:resize"===e&&(i=!1!==t.Ob(n,3).setOrientation()&&i),"window:orientationchange"===e&&(i=!1!==t.Ob(n,3).setOrientation()&&i),i}),null,null)),t.yb(3,4210688,null,0,gn.a,[t.l],null,null),(n()(),t.ib(16777216,null,null,1,null,_n)),t.yb(5,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.zb(6,0,null,1,1,"div",[["bottom-pane",""],["class","content"]],null,null,null,null,null)),t.Nb(null,0)],(function(n,e){var l=e.component;n(e,1,0,l.viewState,!0),n(e,5,0,l.user)}),null)}var Cn=l("2Vo4"),kn=function(){function n(e){_classCallCheck(this,n),this.room=e,this.isAudioOn$=new Cn.a(!0),this.isVideoOn$=new Cn.a(!0),this.isFront$=new Cn.a(!0),this.canFlipCamera=!1,this.videoDevices=[],this.currentDevice=null}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;navigator.mediaDevices.enumerateDevices().then((function(e){n.videoDevices=e.filter((function(n){return"videoinput"==n.kind})),n.canFlipCamera=n.videoDevices.length>1,n.currentDevice=n.videoDevices[0]}))}},{key:"toggleSound",value:function(){this.isAudioOn$.next(!this.isAudioOn$.value),this.user.toggleAudio()}},{key:"toggleVideo",value:function(){this.isVideoOn$.next(!this.isVideoOn$.value),this.user.toggleVideo()}},{key:"flipCamera",value:function(){var n=this.videoDevices.indexOf(this.currentDevice);this.currentDevice=this.videoDevices[(n+1)%this.videoDevices.length],this.isFront$.next(!this.isFront$.value),this.user.toggleCamera(this.currentDevice),this.user.isFrontCamera=this.isFront$.value}},{key:"toggleMediaType",value:function(){this.room.toggleMediaType()}},{key:"toggleBottom",value:function(){this.room.toggleBottom()}},{key:"call",value:function(){this.room.call()}},{key:"hangup",value:function(){this.room.hangup()}},{key:"canShareScreen",get:function(){return"getDisplayMedia"in navigator.mediaDevices}}]),n}(),Mn=l("vkgz"),xn=l("pLZG"),zn=l("7o/Q");function In(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(l){return l.lift(new Pn(n,e))}}var Pn=function(){function n(e,l){_classCallCheck(this,n),this.predicate=e,this.inclusive=l}return _createClass(n,[{key:"call",value:function(n,e){return e.subscribe(new Sn(n,this.predicate,this.inclusive))}}]),n}(),Sn=function(n){_inherits(l,n);var e=_createSuper(l);function l(n,t,i){var o;return _classCallCheck(this,l),(o=e.call(this,n)).predicate=t,o.inclusive=i,o.index=0,o}return _createClass(l,[{key:"_next",value:function(n){var e,l=this.destination;try{e=this.predicate(n,this.index++)}catch(t){return void l.error(t)}this.nextOrComplete(n,e)}},{key:"nextOrComplete",value:function(n,e){var l=this.destination;Boolean(e)?l.next(n):(this.inclusive&&l.next(n),l.complete())}}]),l}(zn.a),Rn=l("D0XW");l("l7GE"),l("ZUHj");var jn={leading:!0,trailing:!1};function Tn(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rn.a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn;return function(t){return t.lift(new $n(n,e,l.leading,l.trailing))}}var $n=function(){function n(e,l,t,i){_classCallCheck(this,n),this.duration=e,this.scheduler=l,this.leading=t,this.trailing=i}return _createClass(n,[{key:"call",value:function(n,e){return e.subscribe(new Dn(n,this.duration,this.scheduler,this.leading,this.trailing))}}]),n}(),Dn=function(n){_inherits(l,n);var e=_createSuper(l);function l(n,t,i,o,a){var r;return _classCallCheck(this,l),(r=e.call(this,n)).duration=t,r.scheduler=i,r.leading=o,r.trailing=a,r._hasTrailingValue=!1,r._trailingValue=null,r}return _createClass(l,[{key:"_next",value:function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Xn,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)}}]),l}(zn.a);function Xn(n){n.subscriber.clearThrottle()}var An=l("/uUt");l("c1bQ");var Fn,qn,Ln,Un,Qn,Nn=l("VHTt"),En=l("LRne"),Vn=l("U7T7"),Gn=((qn=function(){function n(e){_classCallCheck(this,n),this.api=e}return _createClass(n,[{key:"sendIceCandidatesByGatheringState",value:function(n,e,l){var t=this;if(e&&l&&n&&n.peer){this.iceSendingId&&clearInterval(this.iceSendingId);var i=n.peer;"complete"===i.iceGatheringState&&this.sendIceCandidates(n,e,l),"gathering"===i.iceGatheringState&&(this.iceSendingId=setInterval((function(){t.sendIceCandidates(n,e,l)}),1e3))}}},{key:"sendIceCandidatesIfCompleted",value:function(n,e,l){e&&l&&n&&n.peer&&"complete"===n.peer.iceGatheringState&&this.sendIceCandidates(n,e,l)}},{key:"sendIceCandidates",value:function(n,e,l){if(e&&l&&n&&n.iceCandidates&&n.iceCandidates.length){for(var t=[];n.iceCandidates.length;){var i=n.iceCandidates.pop();t.push(i.toJSON())}console.log("sending IceCandidates"),this.api.offer.addIceCandidate(this.roomId,{sender:e,reciever:l,candidates:t}).catch(this.handleError)}}},{key:"addIceCandidatesIfExists",value:function(n){var e=this;return this.api.offer.userIceCandidates(this.roomId,n.id).pipe(Object(s.a)()).pipe(Object(Mn.a)((function(l){l&&l.length&&e.addIceCandidates(n,l)})))}},{key:"addIceCandidates",value:function(n,e){console.log("Got ice candidates",e),e.map((function(e){n.getConnection(e.sender).addIceCandidatesToQueue(e.candidates)}))}},{key:"handleError",value:function(n){return console.log(n),Object(En.a)(null)}}]),n}()).\u0275prov=t.bc({factory:function(){return new qn(t.cc(I.a))},token:qn,providedIn:"root"}),qn),Bn=((Fn=function(){function n(e,l){_classCallCheck(this,n),this.api=e,this.iceCandidateService=l}return _createClass(n,[{key:"init",value:function(n,e){this.user=n,this.roomId=e,this.iceCandidateService.roomId=e}},{key:"offerAll",value:function(n,e){var l,t=_createForOfIteratorHelper(e);try{for(t.s();!(l=t.n()).done;){var i=l.value;this.offer(n,i.id,i.name).then()}}catch(o){t.e(o)}finally{t.f()}}},{key:"answerAll",value:function(n,e){var l,t=this,i=_createForOfIteratorHelper(n);try{var o=function(){var n=l.value,i=e.find((function(e){return e.id==n.sender}));t.answer(t.user.id,n,i?i.name:n.sender).then()};for(i.s();!(l=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}},{key:"setRemoteAll",value:function(n,e){var l,t=this,i=_createForOfIteratorHelper(n);try{var o=function(){var n=l.value,i=e.find((function(e){return e.id==n.sender}));t.setRemote(n,i?i.name:n.sender).then()};for(i.s();!(l=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}},{key:"offer",value:function(n,e,l){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,o,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.user.getConnection(e,l),o=i.peer,t.t0=i.isConnected,t.t0){t.next=14;break}return i.showState("offer"),this.user.addTracks(o),o.onicegatheringstatechange=function(){i.showState("offer: onicegatheringstatechange"),a.iceCandidateService.sendIceCandidatesByGatheringState(i,n,e)},t.t1=o,t.next=9,o.createOffer(Vn.b);case 9:return t.t2=t.sent,t.next=12,t.t1.setLocalDescription.call(t.t1,t.t2);case 12:i.showState("offer: setLocalDescription"),this.sendOffer("offer",n,e,o);case 14:case"end":return t.stop()}}),t,this)})))}},{key:"answer",value:function(n,e,l){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,o,a,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.sender,o=this.user.getConnection(i,l),a=o.peer,t.t0=o.isConnected,t.t0){t.next=9;break}return o.showState("answer"),this.user.addTracks(a),a.onicegatheringstatechange=function(){o.showState("answer: onicegatheringstatechange"),r.iceCandidateService.sendIceCandidatesIfCompleted(o,n,i)},t.next=8,this.trySetRemote(o,e);case 8:this.tryCreateAnswer(o,3,(function(){r.iceCandidateService.addIceCandidatesIfExists(r.user).subscribe((function(){return r.sendOffer("answer",n,i,a)}))}));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"setRemote",value:function(n,e){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var t;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:(t=this.user.getConnection(n.sender,e)).isConnected||(t.showState("setRemote"),this.trySetRemoteWithRetry(t,n,3));case 2:case"end":return l.stop()}}),l,this)})))}},{key:"sendOffer",value:function(n,e,l,t){this.api.offer.createOffer(this.roomId,{type:n,sender:e,receiver:l,description:t.localDescription.toJSON()}).catch(this.handleError)}},{key:"trySetRemote",value:function(n,e){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var t;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,"stable"==(t=n.peer).signalingState){l.next=8;break}return console.log("rollback"),l.next=6,Promise.all([t.setLocalDescription({type:"rollback"}),t.setRemoteDescription(e.description)]);case 6:l.next=10;break;case 8:return l.next=10,t.setRemoteDescription(e.description);case 10:return l.next=12,t.setRemoteDescription(e.description);case 12:n.showState("answer: setRemoteDescription"),l.next=18;break;case 15:l.prev=15,l.t0=l.catch(0),console.log(l.t0);case 18:case"end":return l.stop()}}),l,null,[[0,15]])})))}},{key:"tryCreateAnswer",value:function(n,e,l){var t=this;if(!(e<=0)){var i=n.peer,o=!1;setTimeout((function(){return Object(r.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=i,t.next=4,i.createAnswer(Vn.b);case 4:return t.t1=t.sent,t.next=7,t.t0.setLocalDescription.call(t.t0,t.t1);case 7:n.showState("answer: createAnswer, setLocalDescription"),l(),o=!0,t.next=15;break;case 12:t.prev=12,t.t2=t.catch(0),console.log(t.t2);case 15:o||this.tryCreateAnswer(n,--e,l);case 16:case"end":return t.stop()}}),t,this,[[0,12]])})))}),100)}}},{key:"trySetRemoteWithRetry",value:function(n,e,l){var t=this;if(!(l<=0)){var i=n.peer,o=!1;setTimeout((function(){return Object(r.__awaiter)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.setRemoteDescription(e.description);case 3:n.showState("setRemote: setRemoteDescription"),o=!0,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:o||this.trySetRemoteWithRetry(n,e,--l);case 11:case"end":return t.stop()}}),t,this,[[0,7]])})))}),100)}}},{key:"handleError",value:function(n){return console.log(n),Object(En.a)(null)}}]),n}()).\u0275prov=t.bc({factory:function(){return new Fn(t.cc(I.a),t.cc(Gn))},token:Fn,providedIn:"root"}),Fn),Yn=l("K6Ak"),Kn=function n(e,l){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";_classCallCheck(this,n),this.name=e,this.text=l,this.icon=t,this.visible=!0,this.disabled=!1},Jn=new(function(){function n(e,l){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,n),this.name=e,this.text=l,this.commands=t,this.order=0,this.icon=""}return _createClass(n,[{key:"setCommandOptions",value:function(n,e){var l=this.commands.find((function(e){return e.name===n}));Object.assign(l,e)}}]),n}())("video_chat","\u0412\u0438\u0434\u0435\u043e \u0447\u0430\u0442",[new Kn("call","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0441\u044f","phone"),new Kn("hangup","\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c","call_end"),new Kn("shareLink","\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u0441\u0441\u044b\u043b\u043a\u043e\u0439","share"),new Kn("copyLink","\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","link"),new Kn("leaveRoom","\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u043a\u043e\u043c\u043d\u0430\u0442\u0443","power_settings_new")]),Hn=l("4yAo"),Wn=((Un=function(){function n(e){_classCallCheck(this,n),this.commands=e}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.unregister()}},{key:"register",value:function(){var n="share"in navigator;Jn.setCommandOptions("shareLink",{visible:n}),Jn.setCommandOptions("copyLink",{visible:!n}),this.commands.registerGroup(Jn)}},{key:"unregister",value:function(){this.commands.unregisterGroup(Jn)}}]),n}()).\u0275prov=t.bc({factory:function(){return new Un(t.cc(Hn.a))},token:Un,providedIn:"root"}),Un),Zn=((Ln=function(){function n(){_classCallCheck(this,n)}return _createClass(n,[{key:"setStream",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user";return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var t,i,o,a,r=this;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n){l.next=2;break}return l.abrupt("return");case 2:return t=new MediaStream,i=function(n){n.getTracks().forEach((function(n){return t.addTrack(n)}))},o=navigator.mediaDevices.getUserMedia({audio:!0}).then((function(n){return i(n)})).catch((function(n){return console.log(n)})),l.abrupt("return",(a="user"===e?navigator.mediaDevices.getUserMedia({video:Vn.c}).then((function(n){return i(n)})).catch((function(n){return console.log(n)})):navigator.mediaDevices.getDisplayMedia().then((function(n){return i(n)})).catch((function(n){return console.log(n)})),Promise.all([o,a]).then((function(){t.getTracks().length>0&&(n.stream&&(n.stream.getTracks().forEach((function(n){return n.stop()})),t.getTracks().forEach((function(e){return n.replaceTrack(e)}))),n.stream=t,n.connections.forEach((function(e){return n.addTracks(e.peer)})),r.muteSelfStream())}))));case 5:case"end":return l.stop()}}),l)})))}},{key:"closeStream",value:function(n){n&&n.stream&&(n.stream.getTracks().forEach((function(e){e.stop(),n.stream.removeTrack(e)})),n.stream=null)}},{key:"requestMedia",value:function(n){this.setStream(n)}},{key:"muteSelfStream",value:function(){setTimeout((function(){var n=document.querySelector("#self-video");n&&(n.volume=0)}),100)}}]),n}()).\u0275prov=t.bc({factory:function(){return new Ln},token:Ln,providedIn:"root"}),Ln),ne=l("zHaW"),ee=((Qn=function(){function n(e,l,t,i,o,a,r,u,c){_classCallCheck(this,n),this.router=e,this.api=l,this.auth=t,this.connectionService=i,this.title=o,this.roomCommands=a,this.commands=r,this.media=u,this.snackBar=c,this.isConnectionOn$=new Cn.a(!0),this.user$=new Cn.a(null),this.viewState$=new Cn.a("top"),this.prevState="top",this.mediaType="user"}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.hangup(),this.closeStream(),this.title.toDefault(),this.roomCommands.unregister()}},{key:"ngOnInit",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.api.room.exists(this.roomId);case 2:if(n.sent){n.next=4;break}return n.abrupt("return",this.router.navigate([""]));case 4:this.auth.authorized$.pipe(Object(b.a)(this),Object(Mn.a)((function(n){return n&&e.joinRoom(n)})),Object(x.a)((function(n){return n?new Nn.a(n.id,n.name):null}))).pipe(Object(s.a)(),Object(b.a)(this)).subscribe((function(n){n&&e.initialize(n)})),this.roomCommands.register(),this.commands.current$.pipe(Object(b.a)(this)).pipe(Object(xn.a)((function(n){return!!n}))).subscribe((function(n){var l=e[n.name];l&&"function"==typeof l&&l.call(e)}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"initialize",value:function(n){var e=this;this.user=n,this.user$.next(n),this.connectionService.init(n,this.roomId),this.onlineUsers$=this.api.room.roomUsers(this.roomId).pipe(Object(b.a)(this)),this.offers$=this.api.offer.userOffers(this.roomId,this.user.id).pipe(Object(b.a)(this),In((function(){return e.isConnectionOn$.value}))),this.answers$=this.api.offer.userAnswers(this.roomId,this.user.id).pipe(Object(b.a)(this),In((function(){return e.isConnectionOn$.value}))),this.api.offer.userDisconnections(this.roomId,this.user.id).pipe(Object(b.a)(this)).subscribe((function(n){console.log("dissconnection",n),n.forEach((function(n){e.user.closeConnection(n.sender),e.user.closeConnection(n.receiver)}))})),this.setTitle(),this.listenToOffers(),this.listenToAnswers(),this.confirmJoinCall(),this.code$=this.user.messages$.pipe(Object(Mn.a)((function(n){return console.log(n)})))}},{key:"confirmJoinCall",value:function(){this.onlineUsers$.pipe(Object(s.a)(),Object(b.a)(this)).subscribe((function(n){}))}},{key:"toggleMediaType",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.mediaType="user"===this.mediaType?"display":"user",n.next=3,this.setStream();case 3:case"end":return n.stop()}}),n,this)})))}},{key:"setStream",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.viewState$.next("middle"),n.next=3,this.media.setStream(this.user,this.mediaType);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"closeStream",value:function(){this.media.closeStream(this.user)}},{key:"requestMedia",value:function(){this.media.requestMedia(this.user)}},{key:"transferText",value:function(n){this.user.connections.forEach((function(e){e.transfer.send(n)}))}},{key:"shareLink",value:function(){var n;n=location.href,"share"in navigator&&navigator.share({title:"Uno",text:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u0432\u0438\u0434\u0435\u043e \u0437\u0432\u043e\u043d\u043a\u0443:",url:n}).then((function(){return console.log("Successful share")})).catch((function(n){return console.log("Error sharing:",n)}))}},{key:"copyLink",value:function(){!function(n){var e=document.createElement("textarea");e.value=n,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(l){console.error("Unable to copy",l)}document.body.removeChild(e)}(location.href),this.snackBar.open("C\u0441\u044b\u043b\u043a\u0430 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0430","",{duration:2e3})}},{key:"call",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.isConnectionOn$.next(!0),n.next=3,this.setStream();case 3:this.roomUsers().pipe(Object(s.a)(),Object(b.a)(this)).subscribe((function(n){return e.connectionService.offerAll(e.user.id,n)}));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"hangup",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this.user,!n.t0){n.next=11;break}return console.log("clearing connections.."),this.isConnectionOn$.next(!1),this.user.closeConnections(),this.viewState$.next("top"),this.closeStream(),n.next=9,this.api.offer.clearConnections(this.roomId,this.user.id);case 9:this.isConnectionOn$.next(!0),console.log("clearing connections done.");case 11:case"end":return n.stop()}}),n,this)})))}},{key:"leaveRoom",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.api.room.leaveRoom(this.roomId,this.user.id);case 2:this.router.navigate(["/"]);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"retryCall",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.isConnectionOn$.next(!1),this.user.closeConnections(),n.next=4,this.api.offer.clearConnections(this.roomId,this.user.id);case 4:this.roomUsers().pipe(Object(s.a)(),Object(b.a)(this)).subscribe((function(n){e.isConnectionOn$.next(!0),e.connectionService.offerAll(e.user.id,n)}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"toggleTop",value:function(){var n="top"==this.prevState?"middle":this.prevState,e="top"===this.viewState$.value?n:"top";this.prevState=n,this.viewState$.next(e)}},{key:"toggleBottom",value:function(){var n="bottom"==this.prevState?"middle":this.prevState,e="bottom"===this.viewState$.value?n:"bottom";this.prevState=n,this.viewState$.next(e)}},{key:"roomUsers",value:function(){return this.api.room.roomOtherUsers(this.roomId,this.user.id)}},{key:"joinRoom",value:function(n){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.room.joinRoom(this.roomId,n);case 2:return e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setTitle",value:function(){return Object(r.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.title.icon$.next("group"),this.api.room.onRoomChange(this.roomId).pipe(Object(b.a)(this)).subscribe((function(n){if(n.name)e.title.text$.next(n.name);else{var l=n.users.map((function(n){return n.name})).join(", ");e.title.text$.next(l)}}));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"compareOffers",value:function(n,e){if(n.length!==e.length)return console.log("Offers changed"),!1;var l,t=_createForOfIteratorHelper(n);try{var i=function(){var n=l.value;if(!e.find((function(e){return e.id==n.id&&e.description==n.description})))return{v:(console.log("Offers changed"),!1)}};for(t.s();!(l=t.n()).done;){var o=i();if("object"==typeof o)return o.v}}catch(a){t.e(a)}finally{t.f()}return!0}},{key:"listenToOffers",value:function(){var n=this;this.offers$.pipe(Tn(300),Object(An.a)(this.compareOffers)).subscribe((function(e){return Object(r.__awaiter)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var l=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=e&&e.length,!n.t0){n.next=5;break}return n.next=4,this.setStream();case 4:this.roomUsers().pipe(Object(s.a)(),Object(b.a)(this)).subscribe((function(n){return l.connectionService.answerAll(e,n)}));case 5:case"end":return n.stop()}}),n,this)})))}))}},{key:"listenToAnswers",value:function(){var n=this;this.answers$.pipe(Tn(300),Object(An.a)(this.compareOffers)).subscribe((function(e){e&&e.length&&n.roomUsers().pipe(Object(s.a)(),Object(b.a)(n)).subscribe((function(l){return n.connectionService.setRemoteAll(e,l)}))}))}}]),n}()).\u0275prov=t.bc({factory:function(){return new Qn(t.cc(w.p),t.cc(I.a),t.cc(P.a),t.cc(Bn),t.cc(Yn.a),t.cc(Wn),t.cc(Hn.a),t.cc(Zn),t.cc(ne.b))},token:Qn,providedIn:"root"}),Qn),le=t.xb({encapsulation:0,styles:[[".buttons-container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-around}"]],data:{}});function te(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["sms"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function ie(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["chat"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function oe(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["mic"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function ae(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["mic_off"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function re(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["videocam"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function ue(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["videocam_off"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function ce(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,4,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.flipCamera()&&t),t}),Y.b,Y.a)),t.yb(1,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.zb(2,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(3,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["flip_camera_ios"]))],(function(n,e){n(e,3,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).disabled||null,"NoopAnimations"===t.Ob(e,1)._animationMode),n(e,2,0,t.Ob(e,3).inline,"primary"!==t.Ob(e,3).color&&"accent"!==t.Ob(e,3).color&&"warn"!==t.Ob(e,3).color)}))}function se(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,18,null,null,null,null,null,null,null)),(n()(),t.zb(1,0,null,null,7,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.toggleSound()&&t),t}),Y.b,Y.a)),t.yb(2,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.ib(16777216,null,0,2,null,oe)),t.yb(4,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),t.Pb(131072,C.b,[t.h]),(n()(),t.ib(16777216,null,0,2,null,ae)),t.yb(7,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),t.Pb(131072,C.b,[t.h]),(n()(),t.zb(9,0,null,null,7,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.toggleVideo()&&t),t}),Y.b,Y.a)),t.yb(10,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.ib(16777216,null,0,2,null,re)),t.yb(12,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),t.Pb(131072,C.b,[t.h]),(n()(),t.ib(16777216,null,0,2,null,ue)),t.yb(15,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),t.Pb(131072,C.b,[t.h]),(n()(),t.ib(16777216,null,null,1,null,ce)),t.yb(18,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(0,null,null,0))],(function(n,e){var l=e.component;n(e,4,0,t.Yb(e,4,0,t.Ob(e,5).transform(l.isAudioOn$))),n(e,7,0,!t.Yb(e,7,0,t.Ob(e,8).transform(l.isAudioOn$))),n(e,12,0,t.Yb(e,12,0,t.Ob(e,13).transform(l.isVideoOn$))),n(e,15,0,!t.Yb(e,15,0,t.Ob(e,16).transform(l.isVideoOn$))),n(e,18,0,l.canFlipCamera)}),(function(n,e){n(e,1,0,t.Ob(e,2).disabled||null,"NoopAnimations"===t.Ob(e,2)._animationMode),n(e,9,0,t.Ob(e,10).disabled||null,"NoopAnimations"===t.Ob(e,10)._animationMode)}))}function be(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,5,null,null,null,null,null,null,null)),(n()(),t.zb(1,0,null,null,4,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.call()&&t),t}),Y.b,Y.a)),t.yb(2,180224,null,0,K.b,[t.l,L.c,[2,U.a]],{color:[0,"color"]},null),(n()(),t.zb(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(4,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["call"]))],(function(n,e){n(e,2,0,"accent"),n(e,4,0)}),(function(n,e){n(e,1,0,t.Ob(e,2).disabled||null,"NoopAnimations"===t.Ob(e,2)._animationMode),n(e,3,0,t.Ob(e,4).inline,"primary"!==t.Ob(e,4).color&&"accent"!==t.Ob(e,4).color&&"warn"!==t.Ob(e,4).color)}))}function de(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["desktop_windows"]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function me(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(1,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,[" desktop_access_disabled "]))],(function(n,e){n(e,1,0)}),(function(n,e){n(e,0,0,t.Ob(e,1).inline,"primary"!==t.Ob(e,1).color&&"accent"!==t.Ob(e,1).color&&"warn"!==t.Ob(e,1).color)}))}function fe(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,5,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.toggleMediaType()&&t),t}),Y.b,Y.a)),t.yb(1,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.ib(16777216,null,0,1,null,de)),t.yb(3,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,me)),t.yb(5,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var l=e.component;n(e,3,0,"user"==l.room.mediaType),n(e,5,0,"display"==l.room.mediaType)}),(function(n,e){n(e,0,0,t.Ob(e,1).disabled||null,"NoopAnimations"===t.Ob(e,1)._animationMode)}))}function pe(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),t.ib(16777216,null,null,1,null,fe)),t.yb(2,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.zb(3,0,null,null,4,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.hangup()&&t),t}),Y.b,Y.a)),t.yb(4,180224,null,0,K.b,[t.l,L.c,[2,U.a]],{color:[0,"color"]},null),(n()(),t.zb(5,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(6,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["call_end"]))],(function(n,e){n(e,2,0,e.component.canShareScreen),n(e,4,0,"warn"),n(e,6,0)}),(function(n,e){n(e,3,0,t.Ob(e,4).disabled||null,"NoopAnimations"===t.Ob(e,4)._animationMode),n(e,5,0,t.Ob(e,6).inline,"primary"!==t.Ob(e,6).color&&"accent"!==t.Ob(e,6).color&&"warn"!==t.Ob(e,6).color)}))}function he(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,12,"div",[["class","buttons-container"]],null,null,null,null,null)),(n()(),t.zb(1,0,null,null,5,"button",[["class","mat-focus-indicator"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.toggleBottom()&&t),t}),Y.b,Y.a)),t.yb(2,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.ib(16777216,null,0,1,null,te)),t.yb(4,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,0,1,null,ie)),t.yb(6,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,se)),t.yb(8,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,be)),t.yb(10,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.ib(16777216,null,null,1,null,pe)),t.yb(12,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null)],(function(n,e){var l=e.component;n(e,4,0,"bottom"!=l.viewState),n(e,6,0,"bottom"==l.viewState),n(e,8,0,l.user.stream),n(e,10,0,!l.user.connections.length),n(e,12,0,l.user.connections.length)}),(function(n,e){n(e,1,0,t.Ob(e,2).disabled||null,"NoopAnimations"===t.Ob(e,2)._animationMode)}))}var ge=function(){function n(e,l,t,i){_classCallCheck(this,n),this.activeRoute=e,this.title=l,this.dialog=t,this.room=i,this.user$=this.room.user$,this.code$=this.room.code$,this.viewState$=this.room.viewState$,this.roomId=this.room.roomId}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.room.ngOnDestroy()}},{key:"ngOnInit",value:function(){var n=this;this.roomId=this.room.roomId=this.activeRoute.snapshot.paramMap.get("id"),this.room.ngOnInit(),this.title.click$.pipe(Object(b.a)(this)).subscribe((function(){n.room.onlineUsers$.pipe(Object(s.a)()).subscribe((function(e){return n.dialog.open(a,{data:{users:e},width:"300px"})}))}))}},{key:"sendText",value:function(n){this.room.transferText(n)}}]),n}(),ve=l("iELJ"),Oe=t.xb({encapsulation:0,styles:[[".room-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;background-color:#333;color:#fff}.room-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%], .room-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], .room-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{width:100%}.room-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{flex-grow:0}.room-container[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto}.room-container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:60px;padding:10px;flex-grow:0;background-color:#222;display:flex;align-items:center;justify-content:space-around}"]],data:{}});function ye(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,8,null,null,null,null,null,null,null)),(n()(),t.zb(1,0,null,null,4,"app-videos-list",[["class","main-content"]],null,null,null,wn,On)),t.yb(2,114688,null,0,vn,[],{user:[0,"user"],viewState:[1,"viewState"]},null),t.Pb(131072,C.b,[t.h]),(n()(),t.zb(4,16777216,null,0,1,"router-outlet",[],null,null,null,null,null)),t.yb(5,212992,null,0,w.u,[w.b,t.Q,t.j,[8,null],t.h],null,null),(n()(),t.zb(6,0,null,null,2,"app-video-controls",[["class","footer"]],null,null,null,he,le)),t.yb(7,114688,null,0,kn,[ee],{user:[0,"user"],viewState:[1,"viewState"]},null),t.Pb(131072,C.b,[t.h])],(function(n,e){var l=e.component;n(e,2,0,e.context.ngIf,t.Yb(e,2,1,t.Ob(e,3).transform(l.viewState$))),n(e,5,0),n(e,7,0,e.context.ngIf,t.Yb(e,7,1,t.Ob(e,8).transform(l.viewState$)))}),null)}function _e(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,3,"div",[["class","room-container"]],null,null,null,null,null)),(n()(),t.ib(16777216,null,null,2,null,ye)),t.yb(2,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),t.Pb(131072,C.b,[t.h])],(function(n,e){var l=e.component;n(e,2,0,t.Yb(e,2,0,t.Ob(e,3).transform(l.user$)))}),null)}var we=t.vb("app-room",ge,(function(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"app-room",[],null,null,null,_e,Oe)),t.yb(1,245760,null,0,ge,[w.a,Yn.a,ve.e,ee],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),Ce=t.xb({encapsulation:0,styles:[[""]],data:{}});function ke(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.yb(1,81920,null,0,ve.m,[[2,ve.l],t.l,ve.e],null,null),(n()(),t.Xb(2,null,["Call from ",""])),(n()(),t.zb(3,0,null,null,9,"mat-dialog-actions",[["class","mat-dialog-actions"]],null,null,null,null,null)),t.yb(4,16384,null,0,ve.f,[],null,null),(n()(),t.zb(5,0,null,null,3,"button",[["class","mat-focus-indicator"],["color","warn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,e,l){var i=!0;return"click"===e&&(i=!1!==t.Ob(n,7).dialogRef.close(t.Ob(n,7).dialogResult)&&i),i}),Y.b,Y.a)),t.yb(6,180224,null,0,K.b,[t.l,L.c,[2,U.a]],{color:[0,"color"]},null),t.yb(7,606208,null,0,ve.g,[[2,ve.l],t.l,ve.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t.Xb(-1,0,["Decline"])),(n()(),t.zb(9,0,null,null,3,"button",[["class","mat-focus-indicator"],["color","accent"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(n,e,l){var i=!0;return"click"===e&&(i=!1!==t.Ob(n,11).dialogRef.close(t.Ob(n,11).dialogResult)&&i),i}),Y.b,Y.a)),t.yb(10,180224,null,0,K.b,[t.l,L.c,[2,U.a]],{color:[0,"color"]},null),t.yb(11,606208,null,0,ve.g,[[2,ve.l],t.l,ve.e],{dialogResult:[0,"dialogResult"]},null),(n()(),t.Xb(-1,0,["Accept"]))],(function(n,e){n(e,1,0),n(e,6,0,"warn"),n(e,7,0,!1),n(e,10,0,"accent"),n(e,11,0,!0)}),(function(n,e){var l=e.component;n(e,0,0,t.Ob(e,1).id),n(e,2,0,l.data.from),n(e,5,0,t.Ob(e,6).disabled||null,"NoopAnimations"===t.Ob(e,6)._animationMode,t.Ob(e,7).ariaLabel||null,t.Ob(e,7).type),n(e,9,0,t.Ob(e,10).disabled||null,"NoopAnimations"===t.Ob(e,10)._animationMode,t.Ob(e,11).ariaLabel||null,t.Ob(e,11).type)}))}var Me=t.vb("app-call-dialog",i,(function(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"app-call-dialog",[],null,null,null,ke,Ce)),t.yb(1,114688,null,0,i,[ve.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),xe=l("IxSq"),ze=t.xb({encapsulation:0,styles:[[""]],data:{}});function Ie(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"h2",[["class","mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.yb(1,81920,null,0,ve.m,[[2,ve.l],t.l,ve.e],null,null),(n()(),t.Xb(-1,null,["\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438"])),(n()(),t.zb(3,0,null,null,3,"mat-dialog-content",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.yb(4,16384,null,0,ve.j,[],null,null),(n()(),t.zb(5,0,null,null,1,"app-user-list",[],null,null,null,xe.c,xe.a)),t.yb(6,49152,null,0,o.a,[P.a,I.a],{users:[0,"users"]},null),(n()(),t.zb(7,0,null,null,4,"mat-dialog-actions",[["align","end"],["class","mat-dialog-actions"]],null,null,null,null,null)),t.yb(8,16384,null,0,ve.f,[],null,null),(n()(),t.zb(9,0,null,null,2,"button",[["cdkFocusInitial",""],["class","mat-focus-indicator"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.dialogRef.close()&&t),t}),Y.b,Y.a)),t.yb(10,180224,null,0,K.b,[t.l,L.c,[2,U.a]],null,null),(n()(),t.Xb(-1,0,["Ok"]))],(function(n,e){var l=e.component;n(e,1,0),n(e,6,0,l.users)}),(function(n,e){n(e,0,0,t.Ob(e,1).id),n(e,9,0,t.Ob(e,10).disabled||null,"NoopAnimations"===t.Ob(e,10)._animationMode)}))}var Pe=t.vb("ng-component",a,(function(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,Ie,ze)),t.yb(1,49152,null,0,a,[ve.l,ve.a],null,null)],null,null)}),{users:"users"},{},[]),Se=l("Q2Ze"),Re=l("H3DK"),je=l("SCoL"),Te=l("e6WT"),$e=l("8sFK"),De=t.xb({encapsulation:0,styles:[[""]],data:{}});function Xe(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.yb(1,16384,[[6,4]],0,Se.c,[],null,null),(n()(),t.Xb(-1,null,["\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0442\u044b\u043c"]))],null,(function(n,e){n(e,0,0,t.Ob(e,1).id)}))}function Ae(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,41,"div",[["class","mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.yb(1,16384,null,0,ve.j,[],null,null),(n()(),t.zb(2,0,null,null,39,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,e,l){var i=!0;return"submit"===e&&(i=!1!==t.Ob(n,4).onSubmit(l)&&i),"reset"===e&&(i=!1!==t.Ob(n,4).onReset()&&i),i}),null,null)),t.yb(3,16384,null,0,u.w,[],null,null),t.yb(4,4210688,null,0,u.o,[[8,null],[8,null]],null,null),t.Sb(2048,null,u.c,null,[u.o]),t.yb(6,16384,null,0,u.n,[[4,u.c]],null,null),(n()(),t.zb(7,0,null,null,4,"label",[["for","upload"]],null,null,null,null,null)),(n()(),t.zb(8,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,v.b,v.a)),t.yb(9,9158656,null,0,O.b,[t.l,O.d,[8,null],[2,O.a],[2,t.m]],null,null),(n()(),t.Xb(-1,0,["camera_alt"])),(n()(),t.zb(11,0,null,null,0,"input",[["accept","image/*"],["hidden",""],["id","upload"],["type","file"]],null,[[null,"change"]],(function(n,e,l){var t=!0;return"change"===e&&(t=!1!==n.component.uploadImage(l)&&t),t}),null,null)),(n()(),t.zb(12,0,null,null,26,"mat-form-field",[["class","name-field mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Re.b,Re.a)),t.Sb(6144,null,Se.a,null,[Se.d]),t.yb(14,7520256,null,9,Se.d,[t.l,t.h,[2,q.f],[2,F.b],[2,Se.b],je.a,t.z,[2,U.a]],null,null),t.Tb(603979776,1,{_controlNonStatic:0}),t.Tb(335544320,2,{_controlStatic:0}),t.Tb(603979776,3,{_labelChildNonStatic:0}),t.Tb(335544320,4,{_labelChildStatic:0}),t.Tb(603979776,5,{_placeholderChild:0}),t.Tb(603979776,6,{_errorChildren:1}),t.Tb(603979776,7,{_hintChildren:1}),t.Tb(603979776,8,{_prefixChildren:1}),t.Tb(603979776,9,{_suffixChildren:1}),(n()(),t.zb(24,0,null,3,2,"mat-label",[],null,null,null,null,null)),t.yb(25,16384,[[3,4],[4,4]],0,Se.g,[],null,null),(n()(),t.Xb(-1,null,["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b"])),(n()(),t.zb(27,0,null,1,9,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(n,e,l){var i=!0;return"input"===e&&(i=!1!==t.Ob(n,28)._handleInput(l.target.value)&&i),"blur"===e&&(i=!1!==t.Ob(n,28).onTouched()&&i),"compositionstart"===e&&(i=!1!==t.Ob(n,28)._compositionStart()&&i),"compositionend"===e&&(i=!1!==t.Ob(n,28)._compositionEnd(l.target.value)&&i),"blur"===e&&(i=!1!==t.Ob(n,35)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==t.Ob(n,35)._focusChanged(!0)&&i),"input"===e&&(i=!1!==t.Ob(n,35)._onInput()&&i),i}),null,null)),t.yb(28,16384,null,0,u.d,[t.E,t.l,[2,u.a]],null,null),t.yb(29,16384,null,0,u.r,[],{required:[0,"required"]},null),t.Sb(1024,null,u.j,(function(n){return[n]}),[u.r]),t.Sb(1024,null,u.k,(function(n){return[n]}),[u.d]),t.yb(32,540672,null,0,u.g,[[6,u.j],[8,null],[6,u.k],[2,u.v]],{form:[0,"form"]},null),t.Sb(2048,null,u.l,null,[u.g]),t.yb(34,16384,null,0,u.m,[[4,u.l]],null,null),t.yb(35,999424,null,0,Te.a,[t.l,je.a,[6,u.l],[2,u.o],[2,u.h],q.b,[8,null],$e.a,t.z],{required:[0,"required"]},null),t.Sb(2048,[[1,4],[2,4]],Se.e,null,[Te.a]),(n()(),t.ib(16777216,null,5,1,null,Xe)),t.yb(38,16384,null,0,C.m,[t.Q,t.M],{ngIf:[0,"ngIf"]},null),(n()(),t.zb(39,0,null,null,2,"button",[["class","mat-focus-indicator"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.create()&&t),t}),Y.b,Y.a)),t.yb(40,180224,null,0,K.b,[t.l,L.c,[2,U.a]],{disabled:[0,"disabled"],color:[1,"color"]},null),(n()(),t.Xb(-1,0,[" \u0421\u043e\u0437\u0434\u0430\u0442\u044c "]))],(function(n,e){var l=e.component;n(e,9,0),n(e,29,0,""),n(e,32,0,l.name),n(e,35,0,""),n(e,38,0,l.name.invalid),n(e,40,0,l.name.invalid,"primary")}),(function(n,e){n(e,2,0,t.Ob(e,6).ngClassUntouched,t.Ob(e,6).ngClassTouched,t.Ob(e,6).ngClassPristine,t.Ob(e,6).ngClassDirty,t.Ob(e,6).ngClassValid,t.Ob(e,6).ngClassInvalid,t.Ob(e,6).ngClassPending),n(e,8,0,t.Ob(e,9).inline,"primary"!==t.Ob(e,9).color&&"accent"!==t.Ob(e,9).color&&"warn"!==t.Ob(e,9).color),n(e,12,1,["standard"==t.Ob(e,14).appearance,"fill"==t.Ob(e,14).appearance,"outline"==t.Ob(e,14).appearance,"legacy"==t.Ob(e,14).appearance,t.Ob(e,14)._control.errorState,t.Ob(e,14)._canLabelFloat,t.Ob(e,14)._shouldLabelFloat(),t.Ob(e,14)._hasFloatingLabel(),t.Ob(e,14)._hideControlPlaceholder(),t.Ob(e,14)._control.disabled,t.Ob(e,14)._control.autofilled,t.Ob(e,14)._control.focused,"accent"==t.Ob(e,14).color,"warn"==t.Ob(e,14).color,t.Ob(e,14)._shouldForward("untouched"),t.Ob(e,14)._shouldForward("touched"),t.Ob(e,14)._shouldForward("pristine"),t.Ob(e,14)._shouldForward("dirty"),t.Ob(e,14)._shouldForward("valid"),t.Ob(e,14)._shouldForward("invalid"),t.Ob(e,14)._shouldForward("pending"),!t.Ob(e,14)._animationsEnabled]),n(e,27,1,[t.Ob(e,29).required?"":null,t.Ob(e,34).ngClassUntouched,t.Ob(e,34).ngClassTouched,t.Ob(e,34).ngClassPristine,t.Ob(e,34).ngClassDirty,t.Ob(e,34).ngClassValid,t.Ob(e,34).ngClassInvalid,t.Ob(e,34).ngClassPending,t.Ob(e,35)._isServer,t.Ob(e,35).id,t.Ob(e,35).placeholder,t.Ob(e,35).disabled,t.Ob(e,35).required,t.Ob(e,35).readonly&&!t.Ob(e,35)._isNativeSelect||null,t.Ob(e,35)._ariaDescribedby||null,t.Ob(e,35).errorState,t.Ob(e,35).required.toString()]),n(e,39,0,t.Ob(e,40).disabled||null,"NoopAnimations"===t.Ob(e,40)._animationMode)}))}var Fe=t.vb("ng-component",m,(function(n){return t.ac(0,[(n()(),t.zb(0,0,null,null,1,"ng-component",[],null,null,null,Ae,De)),t.yb(1,245760,null,0,m,[w.p,I.a,P.a,d.b],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{},[]),qe=l("9b/N"),Le=l("1O3W"),Ue=l("rJgo"),Qe=l("wD+u"),Ne=l("jmUF"),Ee=l("VRCc"),Ve=l("fMxG"),Ge=l("TfjI"),Be=l("8Qe2"),Ye=l("PDjf"),Ke=l("f44v"),Je=l("1z/I"),He=l("7KAL"),We=l("GF+f"),Ze=l("o4Yh"),nl=l("pu8Q"),el=l("q7Ft"),ll=l("mPVK"),tl=l("jMqV"),il=l("l0rg"),ol=l("Yobz"),al=l("ab3D"),rl=l("PCNd"),ul=l("SIrD"),cl=function(){return Promise.all([l.e(0),l.e(11)]).then(l.bind(null,"tSmu")).then((function(n){return n.ChatModuleNgFactory}))},sl=function(){return Promise.all([l.e(0),l.e(10)]).then(l.bind(null,"oF8/")).then((function(n){return n.BuraModuleNgFactory}))},bl=function n(){_classCallCheck(this,n)},dl=l("Ht+U");l.d(e,"VideoChatModuleNgFactory",(function(){return ml}));var ml=t.wb(f,[],(function(n){return t.Lb([t.Mb(512,t.j,t.ab,[[8,[p.a,h.a,h.b,g.a,X,B,we,Me,xe.b,Pe,Fe]],[3,t.j],t.x]),t.Mb(4608,C.o,C.n,[t.u]),t.Mb(4608,u.u,u.u,[]),t.Mb(4608,u.e,u.e,[]),t.Mb(4608,qe.c,qe.c,[]),t.Mb(4608,q.b,q.b,[]),t.Mb(4608,Le.a,Le.a,[Le.g,Le.c,t.j,Le.f,Le.d,t.r,t.z,C.d,F.b,[2,C.i]]),t.Mb(5120,Le.h,Le.i,[Le.a]),t.Mb(5120,ve.c,ve.d,[Le.a]),t.Mb(135680,ve.e,ve.e,[Le.a,t.r,[2,C.i],[2,ve.b],ve.c,[3,ve.e],Le.c]),t.Mb(5120,Ue.c,Ue.j,[Le.a]),t.Mb(4608,Qe.a,Qe.a,[Ne.c,[2,Ne.b],[2,Qe.c],[2,Qe.e],t.B,t.z,[2,Qe.d]]),t.Mb(4608,Ee.a,Ee.a,[Ne.c,[2,Ne.b],t.B,t.z]),t.Mb(4608,Ve.a,Ve.a,[Ne.c,[2,Ne.b],[2,Ve.c],t.B,t.z]),t.Mb(4608,Ge.a,Ge.a,[Ne.c,[2,Ne.b],t.B,t.z]),t.Mb(5120,Ne.d,Ne.f,[Ne.c,t.z,[2,Ne.b]]),t.Mb(1073742336,C.c,C.c,[]),t.Mb(1073742336,u.t,u.t,[]),t.Mb(1073742336,u.i,u.i,[]),t.Mb(1073742336,u.q,u.q,[]),t.Mb(1073742336,je.b,je.b,[]),t.Mb(1073742336,qe.d,qe.d,[]),t.Mb(1073742336,L.a,L.a,[L.e]),t.Mb(1073742336,F.a,F.a,[]),t.Mb(1073742336,q.j,q.j,[L.e,[2,q.c],[2,C.d]]),t.Mb(1073742336,Be.a,Be.a,[]),t.Mb(1073742336,q.s,q.s,[]),t.Mb(1073742336,K.c,K.c,[]),t.Mb(1073742336,Ye.f,Ye.f,[]),t.Mb(1073742336,Ke.d,Ke.d,[]),t.Mb(1073742336,Je.f,Je.f,[]),t.Mb(1073742336,He.c,He.c,[]),t.Mb(1073742336,Le.e,Le.e,[]),t.Mb(1073742336,ve.k,ve.k,[]),t.Mb(1073742336,M.b,M.b,[]),t.Mb(1073742336,We.c,We.c,[]),t.Mb(1073742336,Ze.c,Ze.c,[]),t.Mb(1073742336,Se.f,Se.f,[]),t.Mb(1073742336,O.c,O.c,[]),t.Mb(1073742336,$e.c,$e.c,[]),t.Mb(1073742336,Te.b,Te.b,[]),t.Mb(1073742336,q.k,q.k,[]),t.Mb(1073742336,q.q,q.q,[]),t.Mb(1073742336,_.c,_.c,[]),t.Mb(1073742336,Ue.i,Ue.i,[]),t.Mb(1073742336,Ue.f,Ue.f,[]),t.Mb(1073742336,A.c,A.c,[]),t.Mb(1073742336,nl.a,nl.a,[]),t.Mb(1073742336,el.h,el.h,[]),t.Mb(1073742336,ll.a,ll.a,[]),t.Mb(1073742336,tl.d,tl.d,[]),t.Mb(1073742336,tl.c,tl.c,[]),t.Mb(1073742336,ne.e,ne.e,[]),t.Mb(1073742336,il.b,il.b,[]),t.Mb(1073742336,ol.a,ol.a,[]),t.Mb(1073742336,Qe.b,Qe.b,[]),t.Mb(1073742336,Ee.b,Ee.b,[]),t.Mb(1073742336,Ve.b,Ve.b,[]),t.Mb(1073742336,Ge.b,Ge.b,[]),t.Mb(1073742336,Ne.a,Ne.a,[t.B]),t.Mb(1073742336,al.a,al.a,[]),t.Mb(1073742336,rl.a,rl.a,[]),t.Mb(1073742336,w.t,w.t,[[2,w.z],[2,w.p]]),t.Mb(1073742336,ul.a,ul.a,[]),t.Mb(1073742336,bl,bl,[]),t.Mb(1073742336,f,f,[]),t.Mb(256,Ke.a,{separatorKeyCodes:[dl.f]},[]),t.Mb(256,Ne.c,{apiKey:"AIzaSyB8OELF8OtaSi-hF8rJm3lzgBn5GOI6Yeo",authDomain:"uno-server-3000.firebaseapp.com",databaseURL:"https://uno-server-3000.firebaseio.com",projectId:"uno-server-3000",storageBucket:"uno-server-3000.appspot.com",messagingSenderId:"460750590702",appId:"1:460750590702:web:e38380af9f7ff3e2a699ff",measurementId:"G-1D1LTS2GWF"},[]),t.Mb(256,Ne.b,void 0,[]),t.Mb(1024,w.m,(function(){return[[{path:"",redirectTo:"rooms",pathMatch:"full"},{path:"rooms",component:z},{path:"room/create",component:E},{path:"room/:id",component:ge,children:[{path:"",redirectTo:"messages",pathMatch:"full"},{path:"messages",loadChildren:cl},{path:"game",loadChildren:sl}]}]]}),[])])}))}}]);